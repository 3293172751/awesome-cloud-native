+ [author](http://nsddd.top)

# 第33节 Postman请求Server

<div><a href = '32.md' style='float:left'>⬆️上一节🔗  </a><a href = '34.md' style='float: right'>  ⬇️下一节🔗</a></div>
<br>

> ❤️💕💕新时代拥抱云原生，云原生具有环境统一、按需付费、即开即用、稳定性强特点。Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## 需要

**因为我们一般 debug 我们的代码，那么需要这个代码被触发掉。kubernetes 的Informer 会导致许许多多的客户端都有本地的缓存。**

 Informer 内部实现极其复杂，所以很少有相关的文章，如果需要请谷歌搜索外文。

Informer 是 Client-go 中的一个核心工具包。在 Kubernetes 源码中，如果 Kubernetes 的某个组件，需要 List/Get Kubernetes 中的 Object，在绝大多 数情况下，会直接使用 Informer 实例中的 Lister()方法（该方法包含 了 Get 和 List 方法），而很少直接请求 Kubernetes API。Informer 最基本 的功能就是 List/Get Kubernetes 中的 Object。



## Postman请求 APi Server

**最大的问题：如何登陆和授权。**



## 建立 Server Account

Server Account 机制是 Kubernetes 中组件和 API Server 交互的标准方式



## 建立 Secret ( >=1.24)

出于安全考虑，1.24版本和以后版本，不再自动为一个 Server Account 创建 Secret ，需要自己手动创建。



## 建立 ClusterRole

为 SA 授权，能够操作 API 对象



## 获取 Secret 中的证书

Token 将放在http Header 中发送到 API Server 从而进行鉴权



## 提取 Secret 中的证书

为了能和 API  Server 建立安全连接，Postman需要 改 SA 对应证书



## 下载证书并且上传到 Postman

把下载好的证书 下载到 Postman 所在机器，并上传到 Postman 设置中



## 访问





## END 链接

<ul><li><div><a href = '32.md' style='float:left'>⬆️上一节🔗  </a><a href = '34.md' style='float: right'>  ️下一节🔗</a></div></li></ul>

+ [Ⓜ️回到目录🏠](../README.md)

+ [**🫵参与贡献💞❤️‍🔥💖**](https://nsddd.top/archives/contributors))

+ ✴️版权声明 &copy; ：本书所有内容遵循[CC-BY-SA 3.0协议（署名-相同方式共享）&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0协议文本) 

