+ [author](http://nsddd.top)

# 第12节 Ingress

<div><a href = '11.md' style='float:left'>⬆️上一节🔗  </a><a href = '13.md' style='float: right'>  ⬇️下一节🔗</a></div>
<br>

> ❤️💕💕新时代拥抱云原生，云原生具有环境统一、按需付费、即开即用、稳定性强特点。Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## Ingress

**Ingress：service的统一网关入口（nginx实现）**

::: tip 解释

+ Ingress 是对集群中服务的外部访问进行管理的 API 对象，典型的访问方式是 HTTP。
+ Ingress 可以提供负载均衡、SSL 终结和基于名称的虚拟托管。

:::



::: warning 作用

1. 帮助位于集群中的`Service`能够有一个对外可达的`url`，即让集群外的客户端也可以访问到自己。(wxy：对于这一点，`NodePort`类型的`Service`也可以，后面会说到)

2. 做专业的负载均衡，毕竟`Service`的负载均衡还是很初级的

3. 终结`ssl/tls`。意思是说对于那些业务不提供`https`的，为了安全，可以有专门机构帮我们做安全方面的事，业务只需要专注业务就行了，所以可以说是"过滤"`ssl/tls`

4. 基于名称的虚拟`hosting`。这个我理解就是我们常说的Ingress是一个基于应用层提供服务的，因为`Ingress`不仅负责一个业务/Service, 而是可以根据名称区分不同的"hosting"....（wxy: 继续看看可能就理解了）

:::



::: tip ingress解决了什么问题？

1. **动态配置服务**

   > 如果按照传统方式, 当新增加一个服务时, 我们可能需要在流量入口加一个反向代理指向我们新的k8s服务. 而如果用了Ingress, 只需要配置好这个服务, 当服务启动时, 会自动注册到Ingress的中, 不需要而外的操作.

2. **减少不必要的端口暴露**

   > 配置过k8s的都清楚, 第一步是要关闭防火墙的, 主要原因是k8s的很多服务会以NodePort方式映射出去, 这样就相当于给宿主机打了很多孔, 既不安全也不优雅. 而Ingress可以避免这个问题, 除了Ingress自身服务可能需要映射出去, 其他服务都不要用NodePort方式

:::



Ingress 公开从集群外部到集群内服务的 HTTP 和 HTTPS 路由。 流量路由由 Ingress 资源上定义的规则控制。

![image-20221022201520335](http://sm.nsddd.top/smimage-20221022201520335.png)





## END 链接
<ul><li><div><a href = '11.md' style='float:left'>⬆️上一节🔗  </a><a href = '13.md' style='float: right'>  ️下一节🔗</a></div></li></ul>

+ [Ⓜ️回到目录🏠](../README.md)

+ [**🫵参与贡献💞❤️‍🔥💖**](https://nsddd.top/archives/contributors))

+ ✴️版权声明 &copy; ：本书所有内容遵循[CC-BY-SA 3.0协议（署名-相同方式共享）&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0协议文本) 

