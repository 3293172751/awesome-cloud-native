<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/img/1.jpg"><title>DockerFile解析 | 你好</title><meta name="description" content="链学社致力于打造出区块链去中心化的学习平台">
    <link rel="modulepreload" href="/assets/app.e6a43d8d.js"><link rel="modulepreload" href="/assets/24.html.d8f9fc72.js"><link rel="modulepreload" href="/assets/24.html.1e3b14eb.js"><link rel="prefetch" href="/assets/index.html.c499f25b.js"><link rel="prefetch" href="/assets/1.html.a6364d42.js"><link rel="prefetch" href="/assets/10.html.56107013.js"><link rel="prefetch" href="/assets/11.html.b85b8a26.js"><link rel="prefetch" href="/assets/12.html.34227aa0.js"><link rel="prefetch" href="/assets/13.html.e39d621e.js"><link rel="prefetch" href="/assets/14.html.35567760.js"><link rel="prefetch" href="/assets/15.html.33bbd871.js"><link rel="prefetch" href="/assets/16.html.ae278a49.js"><link rel="prefetch" href="/assets/17.html.ab56abaa.js"><link rel="prefetch" href="/assets/18.html.aa98ca48.js"><link rel="prefetch" href="/assets/19.html.c0c73d8e.js"><link rel="prefetch" href="/assets/2.html.86851472.js"><link rel="prefetch" href="/assets/20.html.91d532cb.js"><link rel="prefetch" href="/assets/21.html.fb60a2e7.js"><link rel="prefetch" href="/assets/22.html.81ef770d.js"><link rel="prefetch" href="/assets/23.html.0be78d80.js"><link rel="prefetch" href="/assets/24.html.5e0a191c.js"><link rel="prefetch" href="/assets/25.html.e55c7891.js"><link rel="prefetch" href="/assets/26.html.7702d3b6.js"><link rel="prefetch" href="/assets/27.html.9cf7106d.js"><link rel="prefetch" href="/assets/28.html.356ad027.js"><link rel="prefetch" href="/assets/29.html.8951f63a.js"><link rel="prefetch" href="/assets/3.html.f5926516.js"><link rel="prefetch" href="/assets/30.html.76ff2ad9.js"><link rel="prefetch" href="/assets/31.html.46dc408f.js"><link rel="prefetch" href="/assets/32.html.ef7f82f4.js"><link rel="prefetch" href="/assets/33.html.df044d9d.js"><link rel="prefetch" href="/assets/34.html.366837aa.js"><link rel="prefetch" href="/assets/35.html.7e1fd3c0.js"><link rel="prefetch" href="/assets/36.html.37b1d5ae.js"><link rel="prefetch" href="/assets/37.html.e58bf2f5.js"><link rel="prefetch" href="/assets/38.html.8d868e58.js"><link rel="prefetch" href="/assets/39.html.4445749b.js"><link rel="prefetch" href="/assets/4.html.1dd58374.js"><link rel="prefetch" href="/assets/40.html.44f4447b.js"><link rel="prefetch" href="/assets/41.html.c248bd3d.js"><link rel="prefetch" href="/assets/42.html.e8bc2f1c.js"><link rel="prefetch" href="/assets/43.html.1aba3dca.js"><link rel="prefetch" href="/assets/44.html.f49ca758.js"><link rel="prefetch" href="/assets/45.html.bbb15633.js"><link rel="prefetch" href="/assets/46.html.edcbe96d.js"><link rel="prefetch" href="/assets/47.html.a59abc1d.js"><link rel="prefetch" href="/assets/48.html.4f28209c.js"><link rel="prefetch" href="/assets/49.html.ac49b710.js"><link rel="prefetch" href="/assets/5.html.cd7308c2.js"><link rel="prefetch" href="/assets/50.html.324cafd2.js"><link rel="prefetch" href="/assets/51.html.eda274f0.js"><link rel="prefetch" href="/assets/52.html.272c5591.js"><link rel="prefetch" href="/assets/53.html.e3c34d9a.js"><link rel="prefetch" href="/assets/54.html.f4fcc34e.js"><link rel="prefetch" href="/assets/55.html.e9b4e07e.js"><link rel="prefetch" href="/assets/56.html.6622ea41.js"><link rel="prefetch" href="/assets/57.html.367f08c8.js"><link rel="prefetch" href="/assets/58.html.ea211a7c.js"><link rel="prefetch" href="/assets/59.html.8bc8e3ba.js"><link rel="prefetch" href="/assets/6.html.7d12fb88.js"><link rel="prefetch" href="/assets/60.html.974da963.js"><link rel="prefetch" href="/assets/61.html.c8cca38a.js"><link rel="prefetch" href="/assets/62.html.ddfe5fcc.js"><link rel="prefetch" href="/assets/63.html.8e13b7f8.js"><link rel="prefetch" href="/assets/64.html.9541769d.js"><link rel="prefetch" href="/assets/65.html.abd358e6.js"><link rel="prefetch" href="/assets/66.html.4026b040.js"><link rel="prefetch" href="/assets/67.html.2b17ae48.js"><link rel="prefetch" href="/assets/68.html.663baf92.js"><link rel="prefetch" href="/assets/69.html.774de16a.js"><link rel="prefetch" href="/assets/7.html.2c8082d9.js"><link rel="prefetch" href="/assets/70.html.c57be7d3.js"><link rel="prefetch" href="/assets/71.html.ad7829fc.js"><link rel="prefetch" href="/assets/72.html.58ad0728.js"><link rel="prefetch" href="/assets/73.html.72f02850.js"><link rel="prefetch" href="/assets/74.html.9178ddf5.js"><link rel="prefetch" href="/assets/75.html.314e1460.js"><link rel="prefetch" href="/assets/76.html.1788eaec.js"><link rel="prefetch" href="/assets/77.html.44066a6e.js"><link rel="prefetch" href="/assets/78.html.17c9da55.js"><link rel="prefetch" href="/assets/79.html.06b70efd.js"><link rel="prefetch" href="/assets/8.html.2f43e832.js"><link rel="prefetch" href="/assets/80.html.17ed358a.js"><link rel="prefetch" href="/assets/81.html.965a429f.js"><link rel="prefetch" href="/assets/82.html.a6d9c82f.js"><link rel="prefetch" href="/assets/83.html.bcf91f0d.js"><link rel="prefetch" href="/assets/84.html.4afbf522.js"><link rel="prefetch" href="/assets/85.html.29bf0a08.js"><link rel="prefetch" href="/assets/86.html.615fee79.js"><link rel="prefetch" href="/assets/87.html.db25e970.js"><link rel="prefetch" href="/assets/88.html.dc89a188.js"><link rel="prefetch" href="/assets/89.html.0e233414.js"><link rel="prefetch" href="/assets/9.html.f7a93319.js"><link rel="prefetch" href="/assets/90.html.55c2fcff.js"><link rel="prefetch" href="/assets/91.html.e1eaf040.js"><link rel="prefetch" href="/assets/92.html.dd1ef56d.js"><link rel="prefetch" href="/assets/93.html.daf17c72.js"><link rel="prefetch" href="/assets/94.html.67ee63e3.js"><link rel="prefetch" href="/assets/95.html.1508d5b8.js"><link rel="prefetch" href="/assets/96.html.4f8dcc77.js"><link rel="prefetch" href="/assets/97.html.f4ef55a6.js"><link rel="prefetch" href="/assets/98.html.12649c37.js"><link rel="prefetch" href="/assets/99.html.ebe4c043.js"><link rel="prefetch" href="/assets/index.html.a13477e8.js"><link rel="prefetch" href="/assets/1.html.9e750f7a.js"><link rel="prefetch" href="/assets/10.html.4573cb5f.js"><link rel="prefetch" href="/assets/11.html.7e785902.js"><link rel="prefetch" href="/assets/12.html.1599a54d.js"><link rel="prefetch" href="/assets/13.html.b8face9b.js"><link rel="prefetch" href="/assets/14.html.821b46f1.js"><link rel="prefetch" href="/assets/15.html.16f11fc8.js"><link rel="prefetch" href="/assets/16.html.d5c10ebf.js"><link rel="prefetch" href="/assets/17.html.a98db553.js"><link rel="prefetch" href="/assets/18.html.987167ac.js"><link rel="prefetch" href="/assets/19.html.45b5c1b5.js"><link rel="prefetch" href="/assets/2.html.db106130.js"><link rel="prefetch" href="/assets/20.html.6ab391a2.js"><link rel="prefetch" href="/assets/21.html.b2d2a8da.js"><link rel="prefetch" href="/assets/22.html.b8580f37.js"><link rel="prefetch" href="/assets/23.html.042ce830.js"><link rel="prefetch" href="/assets/24.html.18dbb221.js"><link rel="prefetch" href="/assets/25.html.263b0f15.js"><link rel="prefetch" href="/assets/26.html.e10e4ab9.js"><link rel="prefetch" href="/assets/27.html.6a215381.js"><link rel="prefetch" href="/assets/28.html.92ac70d1.js"><link rel="prefetch" href="/assets/29.html.8e5ed26d.js"><link rel="prefetch" href="/assets/3.html.cac76b28.js"><link rel="prefetch" href="/assets/30.html.3f8b7310.js"><link rel="prefetch" href="/assets/31.html.ce140756.js"><link rel="prefetch" href="/assets/32.html.a5eb20b0.js"><link rel="prefetch" href="/assets/33.html.5417123a.js"><link rel="prefetch" href="/assets/34.html.8e4c5ce1.js"><link rel="prefetch" href="/assets/35.html.e3ff60af.js"><link rel="prefetch" href="/assets/36.html.16d35562.js"><link rel="prefetch" href="/assets/37.html.5321a968.js"><link rel="prefetch" href="/assets/38.html.89eec374.js"><link rel="prefetch" href="/assets/39.html.7e97fa26.js"><link rel="prefetch" href="/assets/4.html.e43c3401.js"><link rel="prefetch" href="/assets/40.html.f382f186.js"><link rel="prefetch" href="/assets/41.html.f0ef7588.js"><link rel="prefetch" href="/assets/42.html.2778c440.js"><link rel="prefetch" href="/assets/43.html.bd9d0c30.js"><link rel="prefetch" href="/assets/44.html.19b6d5d0.js"><link rel="prefetch" href="/assets/45.html.73189bbd.js"><link rel="prefetch" href="/assets/46.html.3ff80313.js"><link rel="prefetch" href="/assets/47.html.d376e7eb.js"><link rel="prefetch" href="/assets/48.html.c6d85b67.js"><link rel="prefetch" href="/assets/49.html.309069aa.js"><link rel="prefetch" href="/assets/5.html.03c5f880.js"><link rel="prefetch" href="/assets/50.html.8adf223d.js"><link rel="prefetch" href="/assets/51.html.090de363.js"><link rel="prefetch" href="/assets/52.html.1c7d4a92.js"><link rel="prefetch" href="/assets/53.html.3b9e231b.js"><link rel="prefetch" href="/assets/54.html.01f6144b.js"><link rel="prefetch" href="/assets/55.html.7f4aee42.js"><link rel="prefetch" href="/assets/56.html.d8b83966.js"><link rel="prefetch" href="/assets/57.html.b2188a30.js"><link rel="prefetch" href="/assets/58.html.7ab981a2.js"><link rel="prefetch" href="/assets/59.html.28e247f8.js"><link rel="prefetch" href="/assets/6.html.2b7b8ad3.js"><link rel="prefetch" href="/assets/60.html.48977f9d.js"><link rel="prefetch" href="/assets/61.html.be07cfeb.js"><link rel="prefetch" href="/assets/62.html.ef764c0d.js"><link rel="prefetch" href="/assets/63.html.d1b3af5b.js"><link rel="prefetch" href="/assets/64.html.ff458748.js"><link rel="prefetch" href="/assets/65.html.a1f18939.js"><link rel="prefetch" href="/assets/66.html.d3ebfa1b.js"><link rel="prefetch" href="/assets/67.html.3fefb232.js"><link rel="prefetch" href="/assets/68.html.6b3eacef.js"><link rel="prefetch" href="/assets/69.html.13709c4e.js"><link rel="prefetch" href="/assets/7.html.44323637.js"><link rel="prefetch" href="/assets/70.html.1b09fdec.js"><link rel="prefetch" href="/assets/71.html.fc91e357.js"><link rel="prefetch" href="/assets/72.html.3ed54957.js"><link rel="prefetch" href="/assets/73.html.3269221e.js"><link rel="prefetch" href="/assets/74.html.d36867b2.js"><link rel="prefetch" href="/assets/75.html.8b1ecf89.js"><link rel="prefetch" href="/assets/76.html.6edcd166.js"><link rel="prefetch" href="/assets/77.html.e7635ab7.js"><link rel="prefetch" href="/assets/78.html.0de8f8e0.js"><link rel="prefetch" href="/assets/79.html.b84c0c1d.js"><link rel="prefetch" href="/assets/8.html.07197297.js"><link rel="prefetch" href="/assets/80.html.72b53b23.js"><link rel="prefetch" href="/assets/81.html.2df80b97.js"><link rel="prefetch" href="/assets/82.html.ad487a1e.js"><link rel="prefetch" href="/assets/83.html.c2f31839.js"><link rel="prefetch" href="/assets/84.html.8f08ca4d.js"><link rel="prefetch" href="/assets/85.html.58986e20.js"><link rel="prefetch" href="/assets/86.html.b208cc40.js"><link rel="prefetch" href="/assets/87.html.c3518680.js"><link rel="prefetch" href="/assets/88.html.4987ffcc.js"><link rel="prefetch" href="/assets/89.html.ba926430.js"><link rel="prefetch" href="/assets/9.html.85fe9bfa.js"><link rel="prefetch" href="/assets/90.html.21f82605.js"><link rel="prefetch" href="/assets/91.html.b7301274.js"><link rel="prefetch" href="/assets/92.html.3662bc0c.js"><link rel="prefetch" href="/assets/93.html.e2ac0831.js"><link rel="prefetch" href="/assets/94.html.02d9e407.js"><link rel="prefetch" href="/assets/95.html.10a9639a.js"><link rel="prefetch" href="/assets/96.html.62960ce9.js"><link rel="prefetch" href="/assets/97.html.d0ab9bbe.js"><link rel="prefetch" href="/assets/98.html.89ca1b0b.js"><link rel="prefetch" href="/assets/99.html.5143f23b.js"><link rel="prefetch" href="/assets/index.html.35638118.js"><link rel="prefetch" href="/assets/1.html.fefabf1f.js"><link rel="prefetch" href="/assets/10.html.a591fdaf.js"><link rel="prefetch" href="/assets/11.html.f0c58879.js"><link rel="prefetch" href="/assets/12.html.6174ec90.js"><link rel="prefetch" href="/assets/13.html.181888e9.js"><link rel="prefetch" href="/assets/14.html.7b106669.js"><link rel="prefetch" href="/assets/15.html.c0e4acaa.js"><link rel="prefetch" href="/assets/16.html.7a3ba1ea.js"><link rel="prefetch" href="/assets/17.html.7a0b131d.js"><link rel="prefetch" href="/assets/18.html.0515d257.js"><link rel="prefetch" href="/assets/19.html.f9a1dad0.js"><link rel="prefetch" href="/assets/2.html.47656e60.js"><link rel="prefetch" href="/assets/20.html.7990e495.js"><link rel="prefetch" href="/assets/21.html.10de0a75.js"><link rel="prefetch" href="/assets/22.html.ccdeb6c4.js"><link rel="prefetch" href="/assets/23.html.b1355d9d.js"><link rel="prefetch" href="/assets/25.html.ce330676.js"><link rel="prefetch" href="/assets/26.html.d044406f.js"><link rel="prefetch" href="/assets/27.html.ccc926f6.js"><link rel="prefetch" href="/assets/28.html.49f5cbc7.js"><link rel="prefetch" href="/assets/29.html.f44fb171.js"><link rel="prefetch" href="/assets/3.html.44eda9ad.js"><link rel="prefetch" href="/assets/30.html.71962bb9.js"><link rel="prefetch" href="/assets/31.html.05d73e5f.js"><link rel="prefetch" href="/assets/32.html.e98a73d9.js"><link rel="prefetch" href="/assets/33.html.55b3c6fb.js"><link rel="prefetch" href="/assets/34.html.5146048c.js"><link rel="prefetch" href="/assets/35.html.51cb1df4.js"><link rel="prefetch" href="/assets/36.html.dea92735.js"><link rel="prefetch" href="/assets/37.html.4987df3a.js"><link rel="prefetch" href="/assets/38.html.94359779.js"><link rel="prefetch" href="/assets/39.html.e9fb19b6.js"><link rel="prefetch" href="/assets/4.html.11bb9c93.js"><link rel="prefetch" href="/assets/40.html.12ce2063.js"><link rel="prefetch" href="/assets/41.html.17b39dbf.js"><link rel="prefetch" href="/assets/42.html.737c2f7f.js"><link rel="prefetch" href="/assets/43.html.4aa549bb.js"><link rel="prefetch" href="/assets/44.html.461dd21b.js"><link rel="prefetch" href="/assets/45.html.f7fa8b44.js"><link rel="prefetch" href="/assets/46.html.0d7a3d66.js"><link rel="prefetch" href="/assets/47.html.7a6006c3.js"><link rel="prefetch" href="/assets/48.html.0ea908f9.js"><link rel="prefetch" href="/assets/49.html.5de8acd8.js"><link rel="prefetch" href="/assets/5.html.d52a2513.js"><link rel="prefetch" href="/assets/50.html.bbd4705a.js"><link rel="prefetch" href="/assets/6.html.6207e399.js"><link rel="prefetch" href="/assets/7.html.60b74bd7.js"><link rel="prefetch" href="/assets/8.html.4ebadc89.js"><link rel="prefetch" href="/assets/9.html.38305fea.js"><link rel="prefetch" href="/assets/k8s_011.html.a02b632d.js"><link rel="prefetch" href="/assets/k8s_012.html.43d51b72.js"><link rel="prefetch" href="/assets/k8s_013.html.ec5b47f7.js"><link rel="prefetch" href="/assets/k8s_014.html.f6d97c90.js"><link rel="prefetch" href="/assets/k8s_015.html.e0a1919b.js"><link rel="prefetch" href="/assets/k8s_016.html.3974eb6c.js"><link rel="prefetch" href="/assets/k8s_017.html.75871624.js"><link rel="prefetch" href="/assets/k8s_018.html.12099bf7.js"><link rel="prefetch" href="/assets/k8s_019.html.056e3a37.js"><link rel="prefetch" href="/assets/k8s_020.html.81fc58d1.js"><link rel="prefetch" href="/assets/k8s_021.html.28a3099b.js"><link rel="prefetch" href="/assets/k8s_022.html.bd4c9467.js"><link rel="prefetch" href="/assets/k8s_023.html.ffd7194a.js"><link rel="prefetch" href="/assets/k8s_024.html.3422943c.js"><link rel="prefetch" href="/assets/k8s_025.html.29b4b1e1.js"><link rel="prefetch" href="/assets/k8s_026.html.37a39c28.js"><link rel="prefetch" href="/assets/k8s_027.html.ffb2e25f.js"><link rel="prefetch" href="/assets/k8s_028.html.d98c6ad6.js"><link rel="prefetch" href="/assets/k8s_029.html.ca41febf.js"><link rel="prefetch" href="/assets/k8s_030.html.9902d045.js"><link rel="prefetch" href="/assets/README (copy).html.e4b91025.js"><link rel="prefetch" href="/assets/index.html.69824888.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.ddfdb1e7.js"><link rel="prefetch" href="/assets/1.html.e816dddf.js"><link rel="prefetch" href="/assets/10.html.c141777f.js"><link rel="prefetch" href="/assets/11.html.1198341f.js"><link rel="prefetch" href="/assets/12.html.a646c365.js"><link rel="prefetch" href="/assets/13.html.455131e8.js"><link rel="prefetch" href="/assets/14.html.a0a9558a.js"><link rel="prefetch" href="/assets/15.html.61900005.js"><link rel="prefetch" href="/assets/16.html.530a0409.js"><link rel="prefetch" href="/assets/17.html.30c1236a.js"><link rel="prefetch" href="/assets/18.html.c4a87679.js"><link rel="prefetch" href="/assets/19.html.1cf819f4.js"><link rel="prefetch" href="/assets/2.html.6e76819f.js"><link rel="prefetch" href="/assets/20.html.c6256a64.js"><link rel="prefetch" href="/assets/21.html.2ebd3eb6.js"><link rel="prefetch" href="/assets/22.html.e9077644.js"><link rel="prefetch" href="/assets/23.html.53754b0c.js"><link rel="prefetch" href="/assets/24.html.e16c0f36.js"><link rel="prefetch" href="/assets/25.html.fab4179d.js"><link rel="prefetch" href="/assets/26.html.568205de.js"><link rel="prefetch" href="/assets/27.html.5acb19e4.js"><link rel="prefetch" href="/assets/28.html.78a0aa0b.js"><link rel="prefetch" href="/assets/29.html.cbbf5781.js"><link rel="prefetch" href="/assets/3.html.fae0951d.js"><link rel="prefetch" href="/assets/30.html.0db3470d.js"><link rel="prefetch" href="/assets/31.html.12bfa295.js"><link rel="prefetch" href="/assets/32.html.b657ac53.js"><link rel="prefetch" href="/assets/33.html.fd00a551.js"><link rel="prefetch" href="/assets/34.html.34931a8a.js"><link rel="prefetch" href="/assets/35.html.05f80538.js"><link rel="prefetch" href="/assets/36.html.7c4a8722.js"><link rel="prefetch" href="/assets/37.html.e3539494.js"><link rel="prefetch" href="/assets/38.html.ff84fe92.js"><link rel="prefetch" href="/assets/39.html.6f8c1555.js"><link rel="prefetch" href="/assets/4.html.6e105f99.js"><link rel="prefetch" href="/assets/40.html.c612d7a0.js"><link rel="prefetch" href="/assets/41.html.c1040771.js"><link rel="prefetch" href="/assets/42.html.890f771b.js"><link rel="prefetch" href="/assets/43.html.90a5f824.js"><link rel="prefetch" href="/assets/44.html.ed5073f2.js"><link rel="prefetch" href="/assets/45.html.7c1a2e3e.js"><link rel="prefetch" href="/assets/46.html.cd13342a.js"><link rel="prefetch" href="/assets/47.html.a5656766.js"><link rel="prefetch" href="/assets/48.html.db63cd91.js"><link rel="prefetch" href="/assets/49.html.fab34b7e.js"><link rel="prefetch" href="/assets/5.html.35896b32.js"><link rel="prefetch" href="/assets/50.html.d752cc17.js"><link rel="prefetch" href="/assets/51.html.8d8462cb.js"><link rel="prefetch" href="/assets/52.html.46ac0dbc.js"><link rel="prefetch" href="/assets/53.html.a655a013.js"><link rel="prefetch" href="/assets/54.html.8be39443.js"><link rel="prefetch" href="/assets/55.html.9187cdd8.js"><link rel="prefetch" href="/assets/56.html.ea077ded.js"><link rel="prefetch" href="/assets/57.html.471adf07.js"><link rel="prefetch" href="/assets/58.html.4dcbd83d.js"><link rel="prefetch" href="/assets/59.html.5a436454.js"><link rel="prefetch" href="/assets/6.html.e074185c.js"><link rel="prefetch" href="/assets/60.html.6d8c41ef.js"><link rel="prefetch" href="/assets/61.html.10e7726f.js"><link rel="prefetch" href="/assets/62.html.4a8bd930.js"><link rel="prefetch" href="/assets/63.html.98f052f4.js"><link rel="prefetch" href="/assets/64.html.de7df45e.js"><link rel="prefetch" href="/assets/65.html.14b0a2d4.js"><link rel="prefetch" href="/assets/66.html.644b56c8.js"><link rel="prefetch" href="/assets/67.html.0e557cf3.js"><link rel="prefetch" href="/assets/68.html.8b7259e9.js"><link rel="prefetch" href="/assets/69.html.44f6d981.js"><link rel="prefetch" href="/assets/7.html.5a3b2752.js"><link rel="prefetch" href="/assets/70.html.c4e3015f.js"><link rel="prefetch" href="/assets/71.html.826d742a.js"><link rel="prefetch" href="/assets/72.html.17333883.js"><link rel="prefetch" href="/assets/73.html.cc11f311.js"><link rel="prefetch" href="/assets/74.html.a466aacc.js"><link rel="prefetch" href="/assets/75.html.44238c36.js"><link rel="prefetch" href="/assets/76.html.778b049f.js"><link rel="prefetch" href="/assets/77.html.c19eb9b4.js"><link rel="prefetch" href="/assets/78.html.335b3f6b.js"><link rel="prefetch" href="/assets/79.html.93ef0489.js"><link rel="prefetch" href="/assets/8.html.ee674a2a.js"><link rel="prefetch" href="/assets/80.html.fff718f3.js"><link rel="prefetch" href="/assets/81.html.b5c4431e.js"><link rel="prefetch" href="/assets/82.html.dfe286b0.js"><link rel="prefetch" href="/assets/83.html.4cf643af.js"><link rel="prefetch" href="/assets/84.html.785b2786.js"><link rel="prefetch" href="/assets/85.html.b7ffaa6b.js"><link rel="prefetch" href="/assets/86.html.bf4bf626.js"><link rel="prefetch" href="/assets/87.html.f8ef9eb2.js"><link rel="prefetch" href="/assets/88.html.8cfc7c7f.js"><link rel="prefetch" href="/assets/89.html.60e97151.js"><link rel="prefetch" href="/assets/9.html.6ccfab9e.js"><link rel="prefetch" href="/assets/90.html.a77c606f.js"><link rel="prefetch" href="/assets/91.html.74c7e1fd.js"><link rel="prefetch" href="/assets/92.html.ae5d0408.js"><link rel="prefetch" href="/assets/93.html.7ba8a307.js"><link rel="prefetch" href="/assets/94.html.5a0d4b84.js"><link rel="prefetch" href="/assets/95.html.0a9bb70a.js"><link rel="prefetch" href="/assets/96.html.5e9680c7.js"><link rel="prefetch" href="/assets/97.html.35331cd7.js"><link rel="prefetch" href="/assets/98.html.33aabd7f.js"><link rel="prefetch" href="/assets/99.html.ae7c10fd.js"><link rel="prefetch" href="/assets/index.html.5ac7b7ff.js"><link rel="prefetch" href="/assets/1.html.912419ad.js"><link rel="prefetch" href="/assets/10.html.99b6d5ac.js"><link rel="prefetch" href="/assets/11.html.cb72270a.js"><link rel="prefetch" href="/assets/12.html.7cd37d8c.js"><link rel="prefetch" href="/assets/13.html.fecccec0.js"><link rel="prefetch" href="/assets/14.html.b7f34e73.js"><link rel="prefetch" href="/assets/15.html.92c80849.js"><link rel="prefetch" href="/assets/16.html.1390e1b8.js"><link rel="prefetch" href="/assets/17.html.ea9f9e44.js"><link rel="prefetch" href="/assets/18.html.7546c822.js"><link rel="prefetch" href="/assets/19.html.be36cceb.js"><link rel="prefetch" href="/assets/2.html.ef159773.js"><link rel="prefetch" href="/assets/20.html.cfe0500f.js"><link rel="prefetch" href="/assets/21.html.40c8b3a0.js"><link rel="prefetch" href="/assets/22.html.4727f182.js"><link rel="prefetch" href="/assets/23.html.52504961.js"><link rel="prefetch" href="/assets/24.html.235e10e9.js"><link rel="prefetch" href="/assets/25.html.5736b22d.js"><link rel="prefetch" href="/assets/26.html.ea8d10f8.js"><link rel="prefetch" href="/assets/27.html.818a74dc.js"><link rel="prefetch" href="/assets/28.html.4d5f6e69.js"><link rel="prefetch" href="/assets/29.html.0c10d370.js"><link rel="prefetch" href="/assets/3.html.8b370c0b.js"><link rel="prefetch" href="/assets/30.html.dc94a11c.js"><link rel="prefetch" href="/assets/31.html.9d7a48a1.js"><link rel="prefetch" href="/assets/32.html.5440c2dd.js"><link rel="prefetch" href="/assets/33.html.44e6197c.js"><link rel="prefetch" href="/assets/34.html.9ebd3c64.js"><link rel="prefetch" href="/assets/35.html.6263767f.js"><link rel="prefetch" href="/assets/36.html.51f58715.js"><link rel="prefetch" href="/assets/37.html.7c8224e9.js"><link rel="prefetch" href="/assets/38.html.ab3e6516.js"><link rel="prefetch" href="/assets/39.html.b8e7b322.js"><link rel="prefetch" href="/assets/4.html.cd79814e.js"><link rel="prefetch" href="/assets/40.html.ff6fd287.js"><link rel="prefetch" href="/assets/41.html.9648d30a.js"><link rel="prefetch" href="/assets/42.html.7ea3dd44.js"><link rel="prefetch" href="/assets/43.html.7ee96311.js"><link rel="prefetch" href="/assets/44.html.461640f6.js"><link rel="prefetch" href="/assets/45.html.3a445df9.js"><link rel="prefetch" href="/assets/46.html.5c904d33.js"><link rel="prefetch" href="/assets/47.html.ec30289e.js"><link rel="prefetch" href="/assets/48.html.f6b21058.js"><link rel="prefetch" href="/assets/49.html.29fbd5d6.js"><link rel="prefetch" href="/assets/5.html.9ba6729f.js"><link rel="prefetch" href="/assets/50.html.8154048a.js"><link rel="prefetch" href="/assets/51.html.1c98eae6.js"><link rel="prefetch" href="/assets/52.html.df15e780.js"><link rel="prefetch" href="/assets/53.html.7a498aba.js"><link rel="prefetch" href="/assets/54.html.577754cd.js"><link rel="prefetch" href="/assets/55.html.45d83be8.js"><link rel="prefetch" href="/assets/56.html.c56c3492.js"><link rel="prefetch" href="/assets/57.html.ea3838ff.js"><link rel="prefetch" href="/assets/58.html.9846671e.js"><link rel="prefetch" href="/assets/59.html.c5f22a55.js"><link rel="prefetch" href="/assets/6.html.864cd52f.js"><link rel="prefetch" href="/assets/60.html.92d424a1.js"><link rel="prefetch" href="/assets/61.html.2cbbe69a.js"><link rel="prefetch" href="/assets/62.html.b402ca72.js"><link rel="prefetch" href="/assets/63.html.9a77740f.js"><link rel="prefetch" href="/assets/64.html.b74bf6dc.js"><link rel="prefetch" href="/assets/65.html.f0be17b1.js"><link rel="prefetch" href="/assets/66.html.c315d0a8.js"><link rel="prefetch" href="/assets/67.html.f87d6e69.js"><link rel="prefetch" href="/assets/68.html.08ee0849.js"><link rel="prefetch" href="/assets/69.html.7a5456fd.js"><link rel="prefetch" href="/assets/7.html.fe0983d7.js"><link rel="prefetch" href="/assets/70.html.921c6b90.js"><link rel="prefetch" href="/assets/71.html.579280fa.js"><link rel="prefetch" href="/assets/72.html.dab86e4a.js"><link rel="prefetch" href="/assets/73.html.b16d332f.js"><link rel="prefetch" href="/assets/74.html.e51bfc93.js"><link rel="prefetch" href="/assets/75.html.842dea06.js"><link rel="prefetch" href="/assets/76.html.25e2db2c.js"><link rel="prefetch" href="/assets/77.html.bc6bb2ad.js"><link rel="prefetch" href="/assets/78.html.5d507f2f.js"><link rel="prefetch" href="/assets/79.html.ea022f1f.js"><link rel="prefetch" href="/assets/8.html.e2ea83c6.js"><link rel="prefetch" href="/assets/80.html.e84fc6e4.js"><link rel="prefetch" href="/assets/81.html.071d54aa.js"><link rel="prefetch" href="/assets/82.html.e558986c.js"><link rel="prefetch" href="/assets/83.html.822291de.js"><link rel="prefetch" href="/assets/84.html.20304d4e.js"><link rel="prefetch" href="/assets/85.html.bf96a0fa.js"><link rel="prefetch" href="/assets/86.html.371f169e.js"><link rel="prefetch" href="/assets/87.html.a46d223d.js"><link rel="prefetch" href="/assets/88.html.c184f431.js"><link rel="prefetch" href="/assets/89.html.d66c07ae.js"><link rel="prefetch" href="/assets/9.html.53d1fb3a.js"><link rel="prefetch" href="/assets/90.html.d94fe535.js"><link rel="prefetch" href="/assets/91.html.cf190cc4.js"><link rel="prefetch" href="/assets/92.html.b99e9489.js"><link rel="prefetch" href="/assets/93.html.9f33c938.js"><link rel="prefetch" href="/assets/94.html.a1049871.js"><link rel="prefetch" href="/assets/95.html.3b02b1ab.js"><link rel="prefetch" href="/assets/96.html.956c4b95.js"><link rel="prefetch" href="/assets/97.html.c48a43e1.js"><link rel="prefetch" href="/assets/98.html.85b8e7c6.js"><link rel="prefetch" href="/assets/99.html.5bd63ccd.js"><link rel="prefetch" href="/assets/index.html.56ecd37c.js"><link rel="prefetch" href="/assets/1.html.2e1c6c64.js"><link rel="prefetch" href="/assets/10.html.37fccafa.js"><link rel="prefetch" href="/assets/11.html.5babaab3.js"><link rel="prefetch" href="/assets/12.html.9cc5370e.js"><link rel="prefetch" href="/assets/13.html.b276c493.js"><link rel="prefetch" href="/assets/14.html.99a481fe.js"><link rel="prefetch" href="/assets/15.html.7c44e9cf.js"><link rel="prefetch" href="/assets/16.html.89ddd914.js"><link rel="prefetch" href="/assets/17.html.fa6c7aed.js"><link rel="prefetch" href="/assets/18.html.1bbf7296.js"><link rel="prefetch" href="/assets/19.html.e096899c.js"><link rel="prefetch" href="/assets/2.html.828c2a87.js"><link rel="prefetch" href="/assets/20.html.cf0ea8fd.js"><link rel="prefetch" href="/assets/21.html.46befb7a.js"><link rel="prefetch" href="/assets/22.html.7eeea936.js"><link rel="prefetch" href="/assets/23.html.c00da54a.js"><link rel="prefetch" href="/assets/25.html.5a9f223f.js"><link rel="prefetch" href="/assets/26.html.20b3025d.js"><link rel="prefetch" href="/assets/27.html.24ef50cd.js"><link rel="prefetch" href="/assets/28.html.5b9a1eef.js"><link rel="prefetch" href="/assets/29.html.f64fb3de.js"><link rel="prefetch" href="/assets/3.html.f8ee6039.js"><link rel="prefetch" href="/assets/30.html.d2ca914e.js"><link rel="prefetch" href="/assets/31.html.56a3a16d.js"><link rel="prefetch" href="/assets/32.html.02675dda.js"><link rel="prefetch" href="/assets/33.html.b3bdcfd7.js"><link rel="prefetch" href="/assets/34.html.42ed43c8.js"><link rel="prefetch" href="/assets/35.html.22a4d8c6.js"><link rel="prefetch" href="/assets/36.html.b46f8fd3.js"><link rel="prefetch" href="/assets/37.html.33d1015c.js"><link rel="prefetch" href="/assets/38.html.416d6043.js"><link rel="prefetch" href="/assets/39.html.a37bf107.js"><link rel="prefetch" href="/assets/4.html.71aacbe5.js"><link rel="prefetch" href="/assets/40.html.fddeeab3.js"><link rel="prefetch" href="/assets/41.html.7d874edf.js"><link rel="prefetch" href="/assets/42.html.0efe58e6.js"><link rel="prefetch" href="/assets/43.html.2c42a830.js"><link rel="prefetch" href="/assets/44.html.4fa427b6.js"><link rel="prefetch" href="/assets/45.html.42288f88.js"><link rel="prefetch" href="/assets/46.html.e57077f5.js"><link rel="prefetch" href="/assets/47.html.b45233e9.js"><link rel="prefetch" href="/assets/48.html.00bd8740.js"><link rel="prefetch" href="/assets/49.html.94e51a17.js"><link rel="prefetch" href="/assets/5.html.0bab46df.js"><link rel="prefetch" href="/assets/50.html.071136d6.js"><link rel="prefetch" href="/assets/6.html.15fd087a.js"><link rel="prefetch" href="/assets/7.html.5fbb2760.js"><link rel="prefetch" href="/assets/8.html.eec07dd8.js"><link rel="prefetch" href="/assets/9.html.92f37a8d.js"><link rel="prefetch" href="/assets/k8s_011.html.4e305c0d.js"><link rel="prefetch" href="/assets/k8s_012.html.4212a797.js"><link rel="prefetch" href="/assets/k8s_013.html.83e5b126.js"><link rel="prefetch" href="/assets/k8s_014.html.575c17c1.js"><link rel="prefetch" href="/assets/k8s_015.html.d7789482.js"><link rel="prefetch" href="/assets/k8s_016.html.68719834.js"><link rel="prefetch" href="/assets/k8s_017.html.efa0cea4.js"><link rel="prefetch" href="/assets/k8s_018.html.5b351c32.js"><link rel="prefetch" href="/assets/k8s_019.html.adfee674.js"><link rel="prefetch" href="/assets/k8s_020.html.2df7a9cf.js"><link rel="prefetch" href="/assets/k8s_021.html.79aaf9c7.js"><link rel="prefetch" href="/assets/k8s_022.html.b6c5a9f2.js"><link rel="prefetch" href="/assets/k8s_023.html.2df5f7fb.js"><link rel="prefetch" href="/assets/k8s_024.html.2e2d6eba.js"><link rel="prefetch" href="/assets/k8s_025.html.6125a224.js"><link rel="prefetch" href="/assets/k8s_026.html.202a9441.js"><link rel="prefetch" href="/assets/k8s_027.html.dd1f0e1b.js"><link rel="prefetch" href="/assets/k8s_028.html.d14054af.js"><link rel="prefetch" href="/assets/k8s_029.html.224e7689.js"><link rel="prefetch" href="/assets/k8s_030.html.499ae318.js"><link rel="prefetch" href="/assets/README (copy).html.9e3d8ce3.js"><link rel="prefetch" href="/assets/index.html.c9f818a7.js"><link rel="prefetch" href="/assets/404.html.2eea3202.js">
    <link rel="stylesheet" href="/assets/style.57cbcbfb.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="切换侧边栏" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">你好</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="🤵关于我"><span class="title">🤵关于我</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="🤵关于我"><span class="title">🤵关于我</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/3293172751/cs-awesome-Block_Chain" target="_self" aria-label="Github仓库"><!--[--><!--]--> Github仓库 <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="我的博客"><!--[--><!--]--> 我的博客 <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="知乎"><!--[--><!--]--> 知乎 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/C-UB/" rel="noopener noreferrer" target="_blank" aria-label="⛓️链学社组织"><!--[--><!--]--> ⛓️链学社组织 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="🏠首页"><!--[--><!--]--> 🏠首页 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="📚Go语言学习"><!--[--><!--]--> 📚Go语言学习 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="" aria-label="⚡ k8s学习篇"><!--[--><!--]--> ⚡ k8s学习篇 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="router-link-active" aria-label="⚡ docker学习篇"><!--[--><!--]--> ⚡ docker学习篇 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="" aria-label="🏄‍♂️ 云原生学习篇"><!--[--><!--]--> 🏄‍♂️ 云原生学习篇 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="查看源码"><!--[--><!--]--> 查看源码 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="切换颜色模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="🤵关于我"><span class="title">🤵关于我</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="🤵关于我"><span class="title">🤵关于我</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/3293172751/cs-awesome-Block_Chain" target="_self" aria-label="Github仓库"><!--[--><!--]--> Github仓库 <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="我的博客"><!--[--><!--]--> 我的博客 <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="知乎"><!--[--><!--]--> 知乎 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/C-UB/" rel="noopener noreferrer" target="_blank" aria-label="⛓️链学社组织"><!--[--><!--]--> ⛓️链学社组织 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="🏠首页"><!--[--><!--]--> 🏠首页 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="📚Go语言学习"><!--[--><!--]--> 📚Go语言学习 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="" aria-label="⚡ k8s学习篇"><!--[--><!--]--> ⚡ k8s学习篇 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="router-link-active" aria-label="⚡ docker学习篇"><!--[--><!--]--> ⚡ docker学习篇 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="" aria-label="🏄‍♂️ 云原生学习篇"><!--[--><!--]--> 🏄‍♂️ 云原生学习篇 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="查看源码"><!--[--><!--]--> 查看源码 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/" class="sidebar-item sidebar-heading" aria-label="🏠回到主页"><!--[--><!--]--> 🏠回到主页 <!--[--><!--]--></a><!----></li><li><a class="external-link sidebar-item sidebar-heading" href="https://xxw.nsddd.top/s/wRSz" rel="noopener noreferrer" target="_blank" aria-label="💱个人云盘地址"><!--[--><!--]--> 💱个人云盘地址 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">🔥 docker学习篇 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/markdown/1.html" class="sidebar-item" aria-label="Docker是什么，可以做什么？"><!--[--><!--]--> Docker是什么，可以做什么？ <!--[--><!--]--></a><!----></li><li><a href="/markdown/2.html" class="sidebar-item" aria-label="docker系统架构"><!--[--><!--]--> docker系统架构 <!--[--><!--]--></a><!----></li><li><a href="/markdown/3.html" class="sidebar-item" aria-label="docker和传统虚拟机"><!--[--><!--]--> docker和传统虚拟机 <!--[--><!--]--></a><!----></li><li><a href="/markdown/4.html" class="sidebar-item" aria-label="docker安装"><!--[--><!--]--> docker安装 <!--[--><!--]--></a><!----></li><li><a href="/markdown/5.html" class="sidebar-item" aria-label="在 Ubuntu 上安装 Docker 引擎"><!--[--><!--]--> 在 Ubuntu 上安装 Docker 引擎 <!--[--><!--]--></a><!----></li><li><a href="/markdown/6.html" class="sidebar-item" aria-label="Docker引擎（engine）详解"><!--[--><!--]--> Docker引擎（engine）详解 <!--[--><!--]--></a><!----></li><li><a href="/markdown/7.html" class="sidebar-item" aria-label="镜像配置 — 加速"><!--[--><!--]--> 镜像配置 — 加速 <!--[--><!--]--></a><!----></li><li><a href="/markdown/8.html" class="sidebar-item" aria-label="docker帮助启动类命令"><!--[--><!--]--> docker帮助启动类命令 <!--[--><!--]--></a><!----></li><li><a href="/markdown/9.html" class="sidebar-item" aria-label="docker镜像命令"><!--[--><!--]--> docker镜像命令 <!--[--><!--]--></a><!----></li><li><a href="/markdown/10.html" class="sidebar-item" aria-label="容器说明 — 容器的启动和运行"><!--[--><!--]--> 容器说明 — 容器的启动和运行 <!--[--><!--]--></a><!----></li><li><a href="/markdown/11.html" class="sidebar-item" aria-label="镜像底层、联合文件系统"><!--[--><!--]--> 镜像底层、联合文件系统 <!--[--><!--]--></a><!----></li><li><a href="/markdown/12.html" class="sidebar-item" aria-label="docker提交以及命名空间"><!--[--><!--]--> docker提交以及命名空间 <!--[--><!--]--></a><!----></li><li><a href="/markdown/13.html" class="sidebar-item" aria-label="使用hub.docker推送到远程"><!--[--><!--]--> 使用hub.docker推送到远程 <!--[--><!--]--></a><!----></li><li><a href="/markdown/14.html" class="sidebar-item" aria-label="容器数据卷读写规则和继承"><!--[--><!--]--> 容器数据卷读写规则和继承 <!--[--><!--]--></a><!----></li><li><a href="/markdown/15.html" class="sidebar-item" aria-label="docker资源汇总"><!--[--><!--]--> docker资源汇总 <!--[--><!--]--></a><!----></li><li><a href="/markdown/16.html" class="sidebar-item" aria-label="tomcat安装挂载"><!--[--><!--]--> tomcat安装挂载 <!--[--><!--]--></a><!----></li><li><a href="/markdown/17.html" class="sidebar-item" aria-label="docker安装MySQL"><!--[--><!--]--> docker安装MySQL <!--[--><!--]--></a><!----></li><li><a href="/markdown/18.html" class="sidebar-item" aria-label="docker安装redis"><!--[--><!--]--> docker安装redis <!--[--><!--]--></a><!----></li><li><a href="/markdown/19.html" class="sidebar-item" aria-label="mysql主从复制docker版"><!--[--><!--]--> mysql主从复制docker版 <!--[--><!--]--></a><!----></li><li><a href="/markdown/20.html" class="sidebar-item" aria-label="分布式存储之hash取余算法"><!--[--><!--]--> 分布式存储之hash取余算法 <!--[--><!--]--></a><!----></li><li><a href="/markdown/21.html" class="sidebar-item" aria-label="3主3从redis集群扩缩容配置案例说明"><!--[--><!--]--> 3主3从redis集群扩缩容配置案例说明 <!--[--><!--]--></a><!----></li><li><a href="/markdown/22.html" class="sidebar-item" aria-label="redis主从扩容"><!--[--><!--]--> redis主从扩容 <!--[--><!--]--></a><!----></li><li><a href="/markdown/23.html" class="sidebar-item" aria-label="redis主从缩容"><!--[--><!--]--> redis主从缩容 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="DockerFile解析"><!--[--><!--]--> DockerFile解析 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/markdown/24.html#需求" class="router-link-active router-link-exact-active sidebar-item" aria-label="需求"><!--[--><!--]--> 需求 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#dockerfile" class="router-link-active router-link-exact-active sidebar-item" aria-label="DockerFile"><!--[--><!--]--> DockerFile <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#应用软件的角度" class="router-link-active router-link-exact-active sidebar-item" aria-label="应用软件的角度"><!--[--><!--]--> 应用软件的角度 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#dockerfile内容基础" class="router-link-active router-link-exact-active sidebar-item" aria-label="dockerfile内容基础"><!--[--><!--]--> dockerfile内容基础 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#docker执行dockerfile的流程" class="router-link-active router-link-exact-active sidebar-item" aria-label="docker执行dockerfile的流程"><!--[--><!--]--> docker执行dockerfile的流程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#构建步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="构建步骤"><!--[--><!--]--> 构建步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#run-执行命令" class="router-link-active router-link-exact-active sidebar-item" aria-label="RUN 执行命令"><!--[--><!--]--> RUN 执行命令 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#构建镜像" class="router-link-active router-link-exact-active sidebar-item" aria-label="构建镜像"><!--[--><!--]--> 构建镜像 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#镜像构建上下文-context" class="router-link-active router-link-exact-active sidebar-item" aria-label="镜像构建上下文（Context）"><!--[--><!--]--> 镜像构建上下文（Context） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/markdown/24.html#其它-docker-build-的用法" class="router-link-active router-link-exact-active sidebar-item" aria-label="其它 docker build 的用法"><!--[--><!--]--> 其它 docker build 的用法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/markdown/25.html" class="sidebar-item" aria-label="dockerfile保留字"><!--[--><!--]--> dockerfile保留字 <!--[--><!--]--></a><!----></li><li><a href="/markdown/26.html" class="sidebar-item" aria-label="dockerfile案例"><!--[--><!--]--> dockerfile案例 <!--[--><!--]--></a><!----></li><li><a href="/markdown/27.html" class="sidebar-item" aria-label="虚悬镜像"><!--[--><!--]--> 虚悬镜像 <!--[--><!--]--></a><!----></li><li><a href="/markdown/28.html" class="sidebar-item" aria-label="编写自定义镜像myubuntu"><!--[--><!--]--> 编写自定义镜像myubuntu <!--[--><!--]--></a><!----></li><li><a href="/markdown/29.html" class="sidebar-item" aria-label="Docker微服务实战"><!--[--><!--]--> Docker微服务实战 <!--[--><!--]--></a><!----></li><li><a href="/markdown/30.html" class="sidebar-item" aria-label="docker 网络"><!--[--><!--]--> docker 网络 <!--[--><!--]--></a><!----></li><li><a href="/markdown/31.html" class="sidebar-item" aria-label="docker网络模式"><!--[--><!--]--> docker网络模式 <!--[--><!--]--></a><!----></li><li><a href="/markdown/32.html" class="sidebar-item" aria-label="bridge是什么"><!--[--><!--]--> bridge是什么 <!--[--><!--]--></a><!----></li><li><a href="/markdown/33.html" class="sidebar-item" aria-label="host是什么"><!--[--><!--]--> host是什么 <!--[--><!--]--></a><!----></li><li><a href="/markdown/34.html" class="sidebar-item" aria-label="none是什么"><!--[--><!--]--> none是什么 <!--[--><!--]--></a><!----></li><li><a href="/markdown/35.html" class="sidebar-item" aria-label="container是什么"><!--[--><!--]--> container是什么 <!--[--><!--]--></a><!----></li><li><a href="/markdown/36.html" class="sidebar-item" aria-label="自定义网络格式"><!--[--><!--]--> 自定义网络格式 <!--[--><!--]--></a><!----></li><li><a href="/markdown/37.html" class="sidebar-item" aria-label="Docker平台架构图解"><!--[--><!--]--> Docker平台架构图解 <!--[--><!--]--></a><!----></li><li><a href="/markdown/38.html" class="sidebar-item" aria-label="docker-compose容器编排"><!--[--><!--]--> docker-compose容器编排 <!--[--><!--]--></a><!----></li><li><a href="/markdown/39.html" class="sidebar-item" aria-label="Compose核心概念"><!--[--><!--]--> Compose核心概念 <!--[--><!--]--></a><!----></li><li><a href="/markdown/40.html" class="sidebar-item" aria-label="改造升级微服务工程docker_boot"><!--[--><!--]--> 改造升级微服务工程docker_boot <!--[--><!--]--></a><!----></li><li><a href="/markdown/41.html" class="sidebar-item" aria-label="浅谈 linux 中的根文件系统（rootfs 的原理和介绍）"><!--[--><!--]--> 浅谈 linux 中的根文件系统（rootfs 的原理和介绍） <!--[--><!--]--></a><!----></li><li><a href="/markdown/42.html" class="sidebar-item" aria-label="docker — Nginx篇"><!--[--><!--]--> docker — Nginx篇 <!--[--><!--]--></a><!----></li><li><a href="/markdown/43.html" class="sidebar-item" aria-label="修改或添加映射端口(修改镜像配置)"><!--[--><!--]--> 修改或添加映射端口(修改镜像配置) <!--[--><!--]--></a><!----></li><li><a href="/markdown/44.html" class="sidebar-item" aria-label="docker搭建Gitlab 服务器"><!--[--><!--]--> docker搭建Gitlab 服务器 <!--[--><!--]--></a><!----></li><li><a href="/markdown/45.html" class="sidebar-item" aria-label="docker搭建jenkins"><!--[--><!--]--> docker搭建jenkins <!--[--><!--]--></a><!----></li><li><a href="/markdown/46.html" class="sidebar-item" aria-label="docker镜像打包导入到另一台服务器"><!--[--><!--]--> docker镜像打包导入到另一台服务器 <!--[--><!--]--></a><!----></li><li><a href="/markdown/47.html" class="sidebar-item" aria-label="docker底层的内核"><!--[--><!--]--> docker底层的内核 <!--[--><!--]--></a><!----></li><li><a href="/markdown/48.html" class="sidebar-item" aria-label="空白页"><!--[--><!--]--> 空白页 <!--[--><!--]--></a><!----></li><li><a href="/markdown/49.html" class="sidebar-item" aria-label="空白页"><!--[--><!--]--> 空白页 <!--[--><!--]--></a><!----></li><li><a href="/markdown/50.html" class="sidebar-item" aria-label="空白页"><!--[--><!--]--> 空白页 <!--[--><!--]--></a><!----></li><li><a class="external-link sidebar-item" href="https://nsddd.top/archives/contributors" rel="noopener noreferrer" target="_blank" aria-label="💝如何参与贡献？"><!--[--><!--]--> 💝如何参与贡献？ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="dockerfile解析" tabindex="-1"><a class="header-anchor" href="#dockerfile解析" aria-hidden="true">#</a> DockerFile解析</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/markdown/24.html#需求" class="router-link-active router-link-exact-active">需求</a></li><li><a aria-current="page" href="/markdown/24.html#dockerfile" class="router-link-active router-link-exact-active">DockerFile</a></li><li><a aria-current="page" href="/markdown/24.html#应用软件的角度" class="router-link-active router-link-exact-active">应用软件的角度</a></li><li><a aria-current="page" href="/markdown/24.html#dockerfile内容基础" class="router-link-active router-link-exact-active">dockerfile内容基础</a></li><li><a aria-current="page" href="/markdown/24.html#docker执行dockerfile的流程" class="router-link-active router-link-exact-active">docker执行dockerfile的流程</a></li><li><a aria-current="page" href="/markdown/24.html#构建步骤" class="router-link-active router-link-exact-active">构建步骤</a></li><li><a aria-current="page" href="/markdown/24.html#run-执行命令" class="router-link-active router-link-exact-active">RUN 执行命令</a></li><li><a aria-current="page" href="/markdown/24.html#构建镜像" class="router-link-active router-link-exact-active">构建镜像</a></li><li><a aria-current="page" href="/markdown/24.html#镜像构建上下文-context" class="router-link-active router-link-exact-active">镜像构建上下文（Context）</a></li><li><a aria-current="page" href="/markdown/24.html#其它-docker-build-的用法" class="router-link-active router-link-exact-active">其它 docker build 的用法</a><ul><li><a aria-current="page" href="/markdown/24.html#直接用-git-repo-进行构建" class="router-link-active router-link-exact-active">直接用 Git repo 进行构建</a></li><li><a aria-current="page" href="/markdown/24.html#用给定的-tar-压缩包构建" class="router-link-active router-link-exact-active">用给定的 tar 压缩包构建</a></li><li><a aria-current="page" href="/markdown/24.html#从标准输入中读取-dockerfile-进行构建" class="router-link-active router-link-exact-active">从标准输入中读取 Dockerfile 进行构建</a></li><li><a aria-current="page" href="/markdown/24.html#从标准输入中读取上下文压缩包进行构建" class="router-link-active router-link-exact-active">从标准输入中读取上下文压缩包进行构建</a></li></ul></li></ul></nav><p>[toc]</p><h2 id="需求" tabindex="-1"><a class="header-anchor" href="#需求" aria-hidden="true">#</a> 需求</h2><p><strong>我们在前面学习镜像的时候，不含有<code>vim/ifconfig</code>等命令，所以我们需要重新安装那些命令</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>对于简单的可能会是一个很好的选择，但是对于随时变化的镜像来说，特别麻烦</p></blockquote><p><strong>可不可以一次性搞定？</strong></p><blockquote><p>某种镜像的增强，给我<code>list</code>做个清单，后续我加入任何功能，直接在list单子里面run，相当于多次提交</p><p><strong>一次性添加，一次性成型</strong></p></blockquote><h2 id="dockerfile" tabindex="-1"><a class="header-anchor" href="#dockerfile" aria-hidden="true">#</a> DockerFile</h2><p><strong>dockerfile是用来构建docker镜像的文本文件，是由一条条构建镜像所需要的指令和参数构成的脚本</strong></p><h2 id="应用软件的角度" tabindex="-1"><a class="header-anchor" href="#应用软件的角度" aria-hidden="true">#</a> 应用软件的角度</h2><ul><li><code>dockerfile</code> 是软件原材料（写需要的东西）</li><li><code>docker</code> 镜像是软件的交付品</li><li><code>docker</code> 容器则可以认为是镜像的运行态，也即依照镜像运行的容器实例</li></ul><p><img src="https://sm.nsddd.top/smJqBckovlsptOPSE.jpg?xxw@nsddd.top" alt="docker-graphic"></p><h2 id="dockerfile内容基础" tabindex="-1"><a class="header-anchor" href="#dockerfile内容基础" aria-hidden="true">#</a> dockerfile内容基础</h2><ul><li>每条指令必须为<strong>大写字母</strong>并且后至少有一个参数</li><li>指令按照从上到下，顺序执行</li><li><code>#</code>表示注释</li><li>每条指令都会创建一个新的镜像层并对镜像进行提交</li></ul><h2 id="docker执行dockerfile的流程" tabindex="-1"><a class="header-anchor" href="#docker执行dockerfile的流程" aria-hidden="true">#</a> docker执行dockerfile的流程</h2><ol><li><code>docker</code>从基础镜像中运行一个容器</li><li>执行一条指令并对容器做出修改</li><li>执行类似<code>docker commit</code>的操作提交一个新的镜像层</li><li><code>docker</code>再基于刚提交的镜像运行一个新的容器</li><li>执行<code>dockerfile</code>中的下一条指令直到所有指令都执行完毕</li></ol><h2 id="构建步骤" tabindex="-1"><a class="header-anchor" href="#构建步骤" aria-hidden="true">#</a> 构建步骤</h2><ol><li><p>编写<code>dockerfile</code>文件</p></li><li><p><code>docker build</code>创建镜像</p></li><li><p><code>docker run</code> 依照镜像运行容器实例</p></li></ol><h2 id="run-执行命令" tabindex="-1"><a class="header-anchor" href="#run-执行命令" aria-hidden="true">#</a> RUN 执行命令</h2><p><code>RUN</code> 指令是用来执行命令行命令的。由于命令行的强大能力，<code>RUN</code> 指令在定制镜像时是最常用的指令之一。其格式有两种：</p><ul><li><code>shell</code> 格式：<code>RUN &lt;命令&gt;</code>，就像直接在命令行中输入的命令一样。刚才写的 <code>Dockerfile</code> 中的 <code>RUN</code> 指令就是这种格式。</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>RUN <span class="token builtin class-name">echo</span> <span class="token string">&#39;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#39;</span> <span class="token operator">&gt;</span> /usr/share/nginx/html/index.html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>exec</code> 格式：<code>RUN [&quot;可执行文件&quot;, &quot;参数1&quot;, &quot;参数2&quot;]</code>，这更像是函数调用中的格式。</li></ul><p>既然 <code>RUN</code> 就像 Shell 脚本一样可以执行命令，那么我们是否就可以像 Shell 脚本一样把每个命令对应一个 RUN 呢？比如这样：</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> debian:stretch</span>

<span class="token instruction"><span class="token keyword">RUN</span> apt-get update</span>
<span class="token instruction"><span class="token keyword">RUN</span> apt-get install -y gcc libc6-dev make wget</span>
<span class="token instruction"><span class="token keyword">RUN</span> wget -O redis.tar.gz <span class="token string">&quot;http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;</span></span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir -p /usr/src/redis</span>
<span class="token instruction"><span class="token keyword">RUN</span> tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1</span>
<span class="token instruction"><span class="token keyword">RUN</span> make -C /usr/src/redis</span>
<span class="token instruction"><span class="token keyword">RUN</span> make -C /usr/src/redis install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>之前说过，Dockerfile 中每一个指令都会建立一层，<code>RUN</code> 也不例外。每一个 <code>RUN</code> 的行为，就和刚才我们手工建立镜像的过程一样：新建立一层，在其上执行这些命令，执行结束后，<code>commit</code> 这一层的修改，构成新的镜像。</p><p>而上面的这种写法，创建了 7 层镜像。这是完全没有意义的，而且很多运行时不需要的东西，都被装进了镜像里，比如编译环境、更新的软件包等等。结果就是产生非常臃肿、非常多层的镜像，不仅仅增加了构建部署的时间，也很容易出错。 这是很多初学 Docker 的人常犯的一个错误。</p><blockquote><p><em>Union FS 是有最大层数限制的，比如 AUFS，曾经是最大不得超过 42 层，现在是不得超过 127 层。</em></p></blockquote><p>上面的 <code>Dockerfile</code> 正确的写法应该是这样：</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> debian:stretch</span>

<span class="token instruction"><span class="token keyword">RUN</span> set -x; buildDeps=<span class="token string">&#39;gcc libc6-dev make wget&#39;</span> <span class="token operator">\</span>
    &amp;&amp; apt-get update <span class="token operator">\</span>
    &amp;&amp; apt-get install -y <span class="token variable">$buildDeps</span> <span class="token operator">\</span>
    &amp;&amp; wget -O redis.tar.gz <span class="token string">&quot;http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;</span> <span class="token operator">\</span>
    &amp;&amp; mkdir -p /usr/src/redis <span class="token operator">\</span>
    &amp;&amp; tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1 <span class="token operator">\</span>
    &amp;&amp; make -C /usr/src/redis <span class="token operator">\</span>
    &amp;&amp; make -C /usr/src/redis install <span class="token operator">\</span>
    &amp;&amp; rm -rf /var/lib/apt/lists/* <span class="token operator">\</span>
    &amp;&amp; rm redis.tar.gz <span class="token operator">\</span>
    &amp;&amp; rm -r /usr/src/redis <span class="token operator">\</span>
    &amp;&amp; apt-get purge -y --auto-remove <span class="token variable">$buildDeps</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先，之前所有的命令只有一个目的，就是编译、安装 redis 可执行文件。因此没有必要建立很多层，这只是一层的事情。因此，这里没有使用很多个 <code>RUN</code> 一一对应不同的命令，而是仅仅使用一个 <code>RUN</code> 指令，并使用 <code>&amp;&amp;</code> 将各个所需命令串联起来。将之前的 7 层，简化为了 1 层。在撰写 <code>Dockerfile</code> 的时候，要经常提醒自己，这并不是在写 <code>Shell</code> 脚本，而是在定义每一层该如何构建。</p><p>并且，这里为了格式化还进行了换行。<code>Dockerfile</code> 支持 <code>Shell</code> 类的行尾添加 <code>\</code> 的命令换行方式，以及行首 <code>#</code> 进行注释的格式。良好的格式，比如换行、缩进、注释等，会让维护、排障更为容易，这是一个比较好的习惯。</p><p>此外，还可以看到这一组命令的最后添加了清理工作的命令，删除了为了编译构建所需要的软件，清理了所有下载、展开的文件，并且还清理了 <code>apt</code> 缓存文件。这是很重要的一步，我们之前说过，镜像是多层存储，每一层的东西并不会在下一层被删除，会一直跟随着镜像。因此镜像构建时，一定要确保每一层只添加真正需要添加的东西，任何无关的东西都应该清理掉。</p><p>很多人初学 <code>Docker</code> 制作出了很臃肿的镜像的原因之一，就是忘记了每一层构建的最后一定要清理掉无关文件。</p><h2 id="构建镜像" tabindex="-1"><a class="header-anchor" href="#构建镜像" aria-hidden="true">#</a> 构建镜像</h2><p>好了，让我们再回到之前定制的 <code>nginx</code> 镜像的 <code>Dockerfile</code> 来。现在我们明白了这个 <code>Dockerfile</code> 的内容，那么让我们来构建这个镜像吧。</p><p>在 <code>Dockerfile</code> 文件所在目录执行：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> build <span class="token parameter variable">-t</span> nginx:v3 <span class="token builtin class-name">.</span>
Sending build context to Docker daemon <span class="token number">2.048</span> kB
Step <span class="token number">1</span> <span class="token builtin class-name">:</span> FROM nginx
 ---<span class="token operator">&gt;</span> e43d811ce2f4
Step <span class="token number">2</span> <span class="token builtin class-name">:</span> RUN <span class="token builtin class-name">echo</span> <span class="token string">&#39;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#39;</span> <span class="token operator">&gt;</span> /usr/share/nginx/html/index.html
 ---<span class="token operator">&gt;</span> Running <span class="token keyword">in</span> 9cdc27646c7b
 ---<span class="token operator">&gt;</span> 44aa4490ce2c
Removing intermediate container 9cdc27646c7b
Successfully built 44aa4490ce2c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从命令的输出结果中，我们可以清晰的看到镜像的构建过程。在 <code>Step 2</code> 中，如同我们之前所说的那样，<code>RUN</code> 指令启动了一个容器 <code>9cdc27646c7b</code>，执行了所要求的命令，并最后提交了这一层 <code>44aa4490ce2c</code>，随后删除了所用到的这个容器 <code>9cdc27646c7b</code>。</p><p>这里我们使用了 <code>docker build</code> 命令进行镜像构建。其格式为：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> build <span class="token punctuation">[</span>选项<span class="token punctuation">]</span> <span class="token operator">&lt;</span>上下文路径/URL/-<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在这里我们指定了最终镜像的名称 <code>-t nginx:v3</code>，构建成功后，我们可以像之前运行 <code>nginx:v2</code> 那样来运行这个镜像，其结果会和 <code>nginx:v2</code> 一样。</p><h2 id="镜像构建上下文-context" tabindex="-1"><a class="header-anchor" href="#镜像构建上下文-context" aria-hidden="true">#</a> 镜像构建上下文（Context）</h2><p>如果注意，会看到 <code>docker build</code> 命令最后有一个 <code>.</code>。<code>.</code> 表示当前目录，而 <code>Dockerfile</code> 就在当前目录，因此不少初学者以为这个路径是在指定 <code>Dockerfile</code> 所在路径，这么理解其实是不准确的。如果对应上面的命令格式，你可能会发现，这是在指定 <strong>上下文路径</strong>。那么什么是上下文呢？</p><p>首先我们要理解 <code>docker build</code> 的工作原理。Docker 在运行时分为 Docker 引擎（也就是服务端守护进程）和客户端工具。Docker 的引擎提供了一组 REST API，被称为 <a href="https://docs.docker.com/develop/sdk/" target="_blank" rel="noopener noreferrer">Docker Remote API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，而如 <code>docker</code> 命令这样的客户端工具，则是通过这组 API 与 Docker 引擎交互，从而完成各种功能。因此，虽然表面上我们好像是在本机执行各种 <code>docker</code> 功能，但实际上，一切都是使用的远程调用形式在服务端（Docker 引擎）完成。也因为这种 <code>C/S</code> 设计，让我们操作远程服务器的 Docker 引擎变得轻而易举。</p><p>当我们进行镜像构建的时候，并非所有定制都会通过 <code>RUN</code> 指令完成，经常会需要将一些本地文件复制进镜像，比如通过 <code>COPY</code> 指令、<code>ADD</code> 指令等。而 <code>docker build</code> 命令构建镜像，其实并非在本地构建，而是在服务端，也就是 Docker 引擎中构建的。那么在这种客户端/服务端的架构中，如何才能让服务端获得本地文件呢？</p><p>这就引入了上下文的概念。当构建的时候，用户会指定构建镜像上下文的路径，<code>docker build</code> 命令得知这个路径后，会将路径下的所有内容打包，然后上传给 Docker 引擎。这样 Docker 引擎收到这个上下文包后，展开就会获得构建镜像所需的一切文件。</p><p>如果在 <code>Dockerfile</code> 中这么写：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>COPY ./package.json /app/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这并不是要复制执行 <code>docker build</code> 命令所在的目录下的 <code>package.json</code>，也不是复制 <code>Dockerfile</code> 所在目录下的 <code>package.json</code>，而是复制 <strong>上下文（context）</strong> 目录下的 <code>package.json</code>。</p><p>因此，<code>COPY</code> 这类指令中的源文件的路径都是<em>相对路径</em>。这也是初学者经常会问的为什么 <code>COPY ../package.json /app</code> 或者 <code>COPY /opt/xxxx /app</code> 无法工作的原因，因为这些路径已经超出了上下文的范围，Docker 引擎无法获得这些位置的文件。如果真的需要那些文件，应该将它们复制到上下文目录中去。</p><p>现在就可以理解刚才的命令 <code>docker build -t nginx:v3 .</code> 中的这个 <code>.</code>，实际上是在指定上下文的目录，<code>docker build</code> 命令会将该目录下的内容打包交给 Docker 引擎以帮助构建镜像。</p><p>如果观察 <code>docker build</code> 输出，我们其实已经看到了这个发送上下文的过程：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> build <span class="token parameter variable">-t</span> nginx:v3 <span class="token builtin class-name">.</span>

Sending build context to Docker daemon <span class="token number">2.048</span> kB

<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>理解构建上下文对于镜像构建是很重要的，避免犯一些不应该的错误。比如有些初学者在发现 <code>COPY /opt/xxxx /app</code> 不工作后，于是干脆将 <code>Dockerfile</code> 放到了硬盘根目录去构建，结果发现 <code>docker build</code> 执行后，在发送一个几十 GB 的东西，极为缓慢而且很容易构建失败。那是因为这种做法是在让 <code>docker build</code> 打包整个硬盘，这显然是使用错误。</p><p>一般来说，应该会将 <code>Dockerfile</code> 置于一个空目录下，或者项目根目录下。如果该目录下没有所需文件，那么应该把所需文件复制一份过来。如果目录下有些东西确实不希望构建时传给 Docker 引擎，那么可以用 <code>.gitignore</code> 一样的语法写一个 <code>.dockerignore</code>，该文件是用于剔除不需要作为上下文传递给 Docker 引擎的。</p><p>那么为什么会有人误以为 <code>.</code> 是指定 <code>Dockerfile</code> 所在目录呢？这是因为在默认情况下，如果不额外指定 <code>Dockerfile</code> 的话，会将上下文目录下的名为 <code>Dockerfile</code> 的文件作为 Dockerfile。</p><p>这只是默认行为，实际上 <code>Dockerfile</code> 的文件名并不要求必须为 <code>Dockerfile</code>，而且并不要求必须位于上下文目录中，比如可以用 <code>-f ../Dockerfile.php</code> 参数指定某个文件作为 <code>Dockerfile</code>。</p><p>当然，一般大家习惯性的会使用默认的文件名 <code>Dockerfile</code>，以及会将其置于镜像构建上下文目录中。</p><h2 id="其它-docker-build-的用法" tabindex="-1"><a class="header-anchor" href="#其它-docker-build-的用法" aria-hidden="true">#</a> 其它 <code>docker build</code> 的用法</h2><h3 id="直接用-git-repo-进行构建" tabindex="-1"><a class="header-anchor" href="#直接用-git-repo-进行构建" aria-hidden="true">#</a> 直接用 Git repo 进行构建</h3><p>或许你已经注意到了，<code>docker build</code> 还支持从 URL 构建，比如可以直接从 Git repo 中构建：</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token comment"># $env:DOCKER_BUILDKIT=0</span>

<span class="token comment"># export DOCKER_BUILDKIT=0</span>

$ docker build -t hello-world https://github.com/docker-library/hello-world.git#master:amd64/hello-world

Step 1/3 : FROM scratch

 ---&gt;

Step 2/3 : COPY hello /

 ---&gt; ac779757d46e

Step 3/3 : CMD [&quot;/hello&quot;]

 ---&gt; Running in d2a513a760ed

Removing intermediate container d2a513a760ed

 ---&gt; 038ad4142d2b

Successfully built 038ad4142d2b
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这行命令指定了构建所需的 Git repo，并且指定分支为 <code>master</code>，构建目录为 <code>/amd64/hello-world/</code>，然后 Docker 就会自己去 <code>git clone</code> 这个项目、切换到指定分支、并进入到指定目录后开始构建。</p><h3 id="用给定的-tar-压缩包构建" tabindex="-1"><a class="header-anchor" href="#用给定的-tar-压缩包构建" aria-hidden="true">#</a> 用给定的 tar 压缩包构建</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ docker build http://server/context.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果所给出的 URL 不是个 Git repo，而是个 <code>tar</code> 压缩包，那么 Docker 引擎会下载这个包，并自动解压缩，以其作为上下文，开始构建。</p><h3 id="从标准输入中读取-dockerfile-进行构建" tabindex="-1"><a class="header-anchor" href="#从标准输入中读取-dockerfile-进行构建" aria-hidden="true">#</a> 从标准输入中读取 Dockerfile 进行构建</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker build - &lt; Dockerfile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>或</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>cat Dockerfile | docker build -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果标准输入传入的是文本文件，则将其视为 <code>Dockerfile</code>，并开始构建。这种形式由于直接从标准输入中读取 Dockerfile 的内容，它没有上下文，因此不可以像其他方法那样可以将本地文件 <code>COPY</code> 进镜像之类的事情。</p><h3 id="从标准输入中读取上下文压缩包进行构建" tabindex="-1"><a class="header-anchor" href="#从标准输入中读取上下文压缩包进行构建" aria-hidden="true">#</a> 从标准输入中读取上下文压缩包进行构建</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ docker build - &lt; context.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果发现标准输入的文件格式是 <code>gzip</code>、<code>bzip2</code> 以及 <code>xz</code> 的话，将会使其为上下文压缩包，直接将其展开，将里面视为上下文，并开始构建。</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/3293172751/awesome-docker/edit/master/docs/markdown/24.md" rel="noopener noreferrer" target="_blank" aria-label="在GitHub上贡献此页面"><!--[--><!--]--> 在GitHub上贡献此页面 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3293172751nss@gmail.com">xiongxinwei</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/markdown/23.html" class="" aria-label="redis主从缩容"><!--[--><!--]--> redis主从缩容 <!--[--><!--]--></a></span><span class="next"><a href="/markdown/25.html" class="" aria-label="dockerfile保留字"><!--[--><!--]--> dockerfile保留字 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.e6a43d8d.js" defer></script>
  </body>
</html>
