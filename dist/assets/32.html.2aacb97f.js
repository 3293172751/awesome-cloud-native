import{_ as r,r as i,o as l,c as o,a as e,b as a,w as t,e as n,d as c}from"./app.74992d3b.js";const d={},p=e("h1",{id:"bridge\u662F\u4EC0\u4E48",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#bridge\u662F\u4EC0\u4E48","aria-hidden":"true"},"#"),n(" bridge\u662F\u4EC0\u4E48")],-1),u={class:"table-of-contents"},b=n("bridge\u662F\u4EC0\u4E48"),v=n("\u67E5\u770B bridge \u7F51\u7EDC\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u5E76\u901A\u8FC7 grep \u83B7\u53D6\u540D\u79F0\u9879"),m=n("\u6848\u4F8B\u8BF4\u660E"),f=c(`<p>[toc]</p><h2 id="bridge\u662F\u4EC0\u4E48-1" tabindex="-1"><a class="header-anchor" href="#bridge\u662F\u4EC0\u4E48-1" aria-hidden="true">#</a> bridge\u662F\u4EC0\u4E48</h2><p>Docker \u670D\u52A1\u9ED8\u8BA4\u4F1A\u521B\u5EFA\u4E00\u4E2A docker0 \u7F51\u6865\uFF08\u5176\u4E0A\u6709\u4E00\u4E2A docker0 \u5185\u90E8\u63A5\u53E3\uFF09\uFF0C\u8BE5\u6865\u63A5\u7F51\u7EDC\u7684\u540D\u79F0\u4E3Adocker0\uFF0C<strong>\u5B83\u5728\u5185\u6838\u5C42\u8FDE\u901A\u4E86\u5176\u4ED6\u7684\u7269\u7406\u6216\u865A\u62DF\u7F51\u5361\uFF0C\u8FD9\u5C31\u5C06\u6240\u6709\u5BB9\u5668\u548C\u672C\u5730\u4E3B\u673A\u90FD\u653E\u5230\u540C\u4E00\u4E2A\u7269\u7406\u7F51\u7EDC\u3002Docker \u9ED8\u8BA4\u6307\u5B9A\u4E86 docker0 \u63A5\u53E3 \u7684 IP \u5730\u5740\u548C\u5B50\u7F51\u63A9\u7801\uFF0C==\u8BA9\u4E3B\u673A\u548C\u5BB9\u5668\u4E4B\u95F4\u53EF\u4EE5\u901A\u8FC7\u7F51\u6865\u76F8\u4E92\u901A\u4FE1\u3002==</strong></p><blockquote><p>\u7F51\u6865\u5C31\u662Fdocker0\uFF0C\u5BBF\u4E3B\u673A\u548C\u5BB9\u5668\u4E4B\u95F4\u901A\u4FE1\u9700\u8981\u7F51\u6865\uFF0C\u5BB9\u5668\u4E0E\u5BB9\u5668\u901A\u4FE1\u4E5F\u8981\u7F51\u6865</p></blockquote><h2 id="\u67E5\u770B-bridge-\u7F51\u7EDC\u7684\u8BE6\u7EC6\u4FE1\u606F-\u5E76\u901A\u8FC7-grep-\u83B7\u53D6\u540D\u79F0\u9879" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B-bridge-\u7F51\u7EDC\u7684\u8BE6\u7EC6\u4FE1\u606F-\u5E76\u901A\u8FC7-grep-\u83B7\u53D6\u540D\u79F0\u9879" aria-hidden="true">#</a> \u67E5\u770B bridge \u7F51\u7EDC\u7684\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u5E76\u901A\u8FC7 grep \u83B7\u53D6\u540D\u79F0\u9879</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>root@ubuntu:/# docker network inspect bridge | grep name
            &quot;com.docker.network.bridge.name&quot;: &quot;docker0&quot;,
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>config</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>root@ubuntu:/# ifconfig
docker0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255
        inet6 fe80::42:1cff:fea2:e40d  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 02:42:1c:a2:e4:0d  txqueuelen 0  (Ethernet)
        RX packets 6300  bytes 262863 (262.8 KB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 6448  bytes 44884020 (44.8 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.121.129  netmask 255.255.255.0  broadcast 192.168.121.255
        inet6 fe80::b367:9300:1119:6132  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 00:0c:29:28:be:81  txqueuelen 1000  (Ethernet)
        RX packets 496051  bytes 650135348 (650.1 MB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 111754  bytes 9680017 (9.6 MB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6848\u4F8B\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B\u8BF4\u660E" aria-hidden="true">#</a> \u6848\u4F8B\u8BF4\u660E</h2><p>1 Docker\u4F7F\u7528Linux\u6865\u63A5\uFF0C\u5728\u5BBF\u4E3B\u673A\u865A\u62DF\u4E00\u4E2ADocker\u5BB9\u5668\u7F51\u6865(docker0)\uFF0CDocker\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u65F6\u4F1A\u6839\u636EDocker\u7F51\u6865\u7684\u7F51\u6BB5\u5206\u914D\u7ED9\u5BB9\u5668\u4E00\u4E2AIP\u5730\u5740\uFF0C\u79F0\u4E3AContainer-IP\uFF0C\u540C\u65F6Docker\u7F51\u6865\u662F\u6BCF\u4E2A\u5BB9\u5668\u7684\u9ED8\u8BA4\u7F51\u5173\u3002\u56E0\u4E3A\u5728<strong>\u540C\u4E00\u5BBF\u4E3B\u673A\u5185\u7684\u5BB9\u5668\u90FD\u63A5\u5165\u540C\u4E00\u4E2A\u7F51\u6865\uFF0C\u8FD9\u6837\u5BB9\u5668\u4E4B\u95F4\u5C31\u80FD\u591F\u901A\u8FC7\u5BB9\u5668\u7684Container-IP\u76F4\u63A5\u901A\u4FE1\u3002</strong></p><p>2 docker run \u7684\u65F6\u5019\uFF0C**\u6CA1\u6709\u6307\u5B9Anetwork\u7684\u8BDD\u9ED8\u8BA4\u4F7F\u7528\u7684\u7F51\u6865\u6A21\u5F0F\u5C31\u662Fbridge\uFF0C\u4F7F\u7528\u7684\u5C31\u662Fdocker0\u3002**\u5728\u5BBF\u4E3B\u673Aifconfig,\u5C31\u53EF\u4EE5\u770B\u5230docker0\u548C\u81EA\u5DF1create\u7684network(\u540E\u9762\u8BB2)eth0\uFF0Ceth1\uFF0Ceth2\u2026\u2026\u4EE3\u8868\u7F51\u5361\u4E00\uFF0C\u7F51\u5361\u4E8C\uFF0C\u7F51\u5361\u4E09\u2026\u2026\uFF0Clo\u4EE3\u8868127.0.0.1\uFF0C\u5373localhost\uFF0Cinet addr\u7528\u6765\u8868\u793A\u7F51\u5361\u7684IP\u5730\u5740</p><p><strong>3. \u7F51\u6865docker0\u521B\u5EFA\u4E00\u5BF9\u5BF9\u7B49\u865A\u62DF\u8BBE\u5907\u63A5\u53E3\u4E00\u4E2A\u53EBveth\uFF0C\u53E6\u4E00\u4E2A\u53EBeth0\uFF0C\u6210\u5BF9\u5339\u914D\u3002</strong></p><ul><li><p>\u6574\u4E2A\u5BBF\u4E3B\u673A\u7684\u7F51\u6865\u6A21\u5F0F\u90FD\u662Fdocker0\uFF0C\u7C7B\u4F3C\u4E00\u4E2A\u4EA4\u6362\u673A\u6709\u4E00\u5806\u63A5\u53E3\uFF0C\u6BCF\u4E2A\u63A5\u53E3\u53EBveth\uFF0C\u5728\u672C\u5730\u4E3B\u673A\u548C\u5BB9\u5668\u5185\u5206\u522B\u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u63A5\u53E3\uFF0C\u5E76\u8BA9\u4ED6\u4EEC\u5F7C\u6B64\u8054\u901A\uFF08\u8FD9\u6837\u4E00\u5BF9\u63A5\u53E3\u53EBveth pair\uFF09\uFF1B</p></li><li><p>\u6BCF\u4E2A\u5BB9\u5668\u5B9E\u4F8B\u5185\u90E8\u4E5F\u6709\u4E00\u5757\u7F51\u5361\uFF0C<strong>\u6BCF\u4E2A\u63A5\u53E3\u53EBeth0\uFF1B</strong></p></li><li><p>docker0\u4E0A\u9762\u7684\u6BCF\u4E2Aveth\u5339\u914D\u67D0\u4E2A\u5BB9\u5668\u5B9E\u4F8B\u5185\u90E8\u7684<strong>eth0\uFF0C\u4E24\u4E24\u914D\u5BF9\uFF0C\u4E00\u4E00\u5339\u914D\u3002</strong></p></li></ul><p><strong>\u901A\u8FC7\u4E0A\u8FF0\uFF0C\u5C06\u5BBF\u4E3B\u673A\u4E0A\u7684\u6240\u6709\u5BB9\u5668\u90FD\u8FDE\u63A5\u5230\u8FD9\u4E2A\u5185\u90E8\u7F51\u7EDC\u4E0A\uFF0C\u4E24\u4E2A\u5BB9\u5668\u5728\u540C\u4E00\u4E2A\u7F51\u7EDC\u4E0B,\u4F1A\u4ECE\u8FD9\u4E2A\u7F51\u5173\u4E0B\u5404\u81EA\u62FF\u5230\u5206\u914D\u7684ip\uFF0C\u6B64\u65F6\u4E24\u4E2A\u5BB9\u5668\u7684\u7F51\u7EDC\u662F\u4E92\u901A\u7684\u3002</strong></p><p><img src="https://s2.loli.net/2022/05/14/L7nUF49qlckbRph.jpg" alt="graphic"></p><blockquote><p>\u7F51\u6865\u5C31\u662Fdocker0\uFF0C\u5BBF\u4E3B\u673A\u548C\u5BB9\u5668\u4E4B\u95F4\u901A\u4FE1\u9700\u8981\u7F51\u6865\uFF0C\u5BB9\u5668\u4E0E\u5BB9\u5668\u901A\u4FE1\u4E5F\u8981\u7F51\u6865</p></blockquote><p>\u4EE3\u7801</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run -d -p 8081:8080  --name tomcat81 billygoo/tomcat8-jdk8

docker run -d -p 8082:8080  --name tomcat82 billygoo/tomcat8-jdk8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E24\u4E24\u5339\u914D\u9A8C\u8BC1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@ubuntu:/<span class="token comment"># docker ps |grep tomcat</span>
518bce78283a   billygoo/tomcat8-jdk8   <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">14</span> seconds ago   Up <span class="token number">13</span> seconds                   <span class="token number">0.0</span>.0.0:8082-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::8082-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   tomcat82
98ec1a7378a7   billygoo/tomcat8-jdk8   <span class="token string">&quot;catalina.sh run&quot;</span>        <span class="token number">15</span> seconds ago   Up <span class="token number">15</span> seconds                   <span class="token number">0.0</span>.0.0:8081-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp, :::8081-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   tomcat81
root@ubuntu:/<span class="token comment"># ip addr |tail -n 8</span>
<span class="token number">25</span>: veth7ad0904@if24: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP group default 
    link/ether 06:dd:54:bd:8b:4b brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">3</span>
    inet6 fe80::4dd:54ff:febd:8b4b/64 scope <span class="token function">link</span> 
       valid_lft forever preferred_lft forever
<span class="token number">27</span>: vethb119ebb@if26: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue master docker0 state UP group default 
    link/ether <span class="token number">76</span>:40:af:cd:83:b8 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">4</span>
    inet6 fe80::7440:afff:fecd:83b8/64 scope <span class="token function">link</span> 
       valid_lft forever preferred_lft forever
root@ubuntu:/<span class="token comment"># docker exec -it tomcat81 bash</span>
root@98ec1a7378a7:/usr/local/tomcat<span class="token comment"># ip addr</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
<span class="token number">24</span>: eth0@if25: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP group default 
    link/ether 02:42:ac:11:00:05 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">0</span>
    inet <span class="token number">172.17</span>.0.5/16 brd <span class="token number">172.17</span>.255.255 scope global eth0
       valid_lft forever preferred_lft forever
root@98ec1a7378a7:/usr/local/tomcat<span class="token comment"># exit </span>
<span class="token builtin class-name">exit</span>
root@ubuntu:/<span class="token comment"># docker exec -it tomcat82 bash</span>
root@518bce78283a:/usr/local/tomcat<span class="token comment"># ip addr</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue state UNKNOWN group default qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
<span class="token number">26</span>: eth0@if27: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state UP group default 
    link/ether 02:42:ac:11:00:06 brd ff:ff:ff:ff:ff:ff link-netnsid <span class="token number">0</span>
    inet <span class="token number">172.17</span>.0.6/16 brd <span class="token number">172.17</span>.255.255 scope global eth0
       valid_lft forever preferred_lft forever
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://s2.loli.net/2022/05/14/JeaFpNfcnDSr7s2.jpg" alt="graphic"></p><p><strong>\u7531\u6B64\u53EF\u89C1\uFF1A</strong></p><ul><li>veth7ad0904@if24\u548Ceth0@if25\u6210\u5BF9\u51FA\u73B0</li><li>vethb119ebb@if26\u548Ceth0@if27\u6210\u5BF9\u51FA\u73B0</li></ul><blockquote><p>\u9A8C\u8BC1\u4E86\u7F51\u6865docker0\u521B\u5EFA\u4E00\u5BF9\u5BF9\u7B49\u865A\u62DF\u8BBE\u5907\u63A5\u53E3\u4E00\u4E2A\u53EBveth\uFF0C\u53E6\u4E00\u4E2A\u53EBeth0\uFF0C\u6210\u5BF9\u5339\u914D\u3002</p></blockquote>`,24);function k(g,h){const s=i("router-link");return l(),o("div",null,[p,e("nav",u,[e("ul",null,[e("li",null,[a(s,{to:"#bridge\u662F\u4EC0\u4E48-1"},{default:t(()=>[b]),_:1})]),e("li",null,[a(s,{to:"#\u67E5\u770B-bridge-\u7F51\u7EDC\u7684\u8BE6\u7EC6\u4FE1\u606F-\u5E76\u901A\u8FC7-grep-\u83B7\u53D6\u540D\u79F0\u9879"},{default:t(()=>[v]),_:1})]),e("li",null,[a(s,{to:"#\u6848\u4F8B\u8BF4\u660E"},{default:t(()=>[m]),_:1})])])]),f])}const x=r(d,[["render",k],["__file","32.html.vue"]]);export{x as default};
