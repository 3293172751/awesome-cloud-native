import{_ as r,r as a,o as t,c as l,a as e,b as s,d as o,e as n}from"./app.9f3e6cab.js";const d={},c=o(`<h1 id="_113-openim-\u79BB\u7EBF\u90E8\u7F72\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#_113-openim-\u79BB\u7EBF\u90E8\u7F72\u8BBE\u8BA1" aria-hidden="true">#</a> 113: OpenIM \u79BB\u7EBF\u90E8\u7F72\u8BBE\u8BA1</h1><h2 id="_1-\u57FA\u7840\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_1-\u57FA\u7840\u955C\u50CF" aria-hidden="true">#</a> 1. \u57FA\u7840\u955C\u50CF</h2><p>\u4EE5\u4E0B\u662F\u60A8\u9700\u8981\u7684\u57FA\u7840\u955C\u50CF\u53CA\u5176\u7248\u672C\uFF1A</p><ul><li>wurstmeister/kafka</li><li>redis:7.0.0</li><li>mongo:6.0.2</li><li>mysql:5.7</li><li>wurstmeister/zookeeper</li><li>minio/minio</li></ul><p>\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u62C9\u53D6\u8FD9\u4E9B\u57FA\u7840\u955C\u50CF\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull wurstmeister/kafka
docker pull redis:7.0.0
docker pull mongo:6.0.2
docker pull mysql:5.7
docker pull wurstmeister/zookeeper
docker pull minio/minio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-openim-\u4E0E-chat-\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#_2-openim-\u4E0E-chat-\u955C\u50CF" aria-hidden="true">#</a> 2. OpenIM \u4E0E Chat \u955C\u50CF</h2>`,7),u=e("strong",null,"\u8BE6\u7EC6\u4E86\u89E3 OpenIM \u548C Chat \u7684\u7248\u672C\u7BA1\u7406\u53CA\u5B58\u50A8",-1),h=n(": "),m={href:"https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/version.md",target:"_blank",rel:"noopener noreferrer"},p=n("version.md"),g=e("h3",{id:"openim-\u955C\u50CF",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#openim-\u955C\u50CF","aria-hidden":"true"},"#"),n(" OpenIM \u955C\u50CF")],-1),v=n("\u83B7\u53D6\u955C\u50CF\u7248\u672C\u4FE1\u606F: "),_={href:"https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/images.md",target:"_blank",rel:"noopener noreferrer"},b=n("images.md"),f=e("li",null,"\u6839\u636E\u6240\u9700\u7248\u672C\uFF0C\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\uFF1A",-1),k=o(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull ghcr.io/openimsdk/openim-server:&lt;version-name&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="chat-\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#chat-\u955C\u50CF" aria-hidden="true">#</a> Chat \u955C\u50CF</h3><ul><li>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u62C9\u53D6\u955C\u50CF\uFF1A</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull ghcr.io/openimsdk/openim-server:&lt;version-name&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-\u955C\u50CF\u5B58\u50A8\u9009\u62E9" tabindex="-1"><a class="header-anchor" href="#_3-\u955C\u50CF\u5B58\u50A8\u9009\u62E9" aria-hidden="true">#</a> 3. \u955C\u50CF\u5B58\u50A8\u9009\u62E9</h2><p><strong>\u5B58\u50A8\u5E93</strong>\uFF1A</p><ul><li>\u963F\u91CC\u4E91\uFF1A<code>registry.cn-hangzhou.aliyuncs.com/openimsdk/openim-server</code></li><li>Docker Hub\uFF1A<code>openim/openim-server</code></li></ul><p><strong>\u7248\u672C\u9009\u62E9</strong>\uFF1A</p><ul><li>\u7A33\u5B9A\u7248\uFF1A\u5982 release-v3.2 (\u6216 3.1\u30013.3)</li><li>\u6700\u65B0\u7248\uFF1Alatest</li><li>main \u7684\u6700\u65B0\u7248\uFF1Amain</li></ul><h2 id="_4-\u7248\u672C\u9009\u62E9" tabindex="-1"><a class="header-anchor" href="#_4-\u7248\u672C\u9009\u62E9" aria-hidden="true">#</a> 4. \u7248\u672C\u9009\u62E9</h2><p>\u60A8\u53EF\u4EE5\u9009\u62E9\u4EE5\u4E0B\u7248\u672C\uFF1A</p><ul><li>\u7A33\u5B9A\u7248\uFF1A\u5982 release-v3.2</li><li>\u6700\u65B0\u7248\uFF1Alatest</li><li>main \u5206\u652F\u7684\u6700\u65B0\u7248\uFF1Amain</li></ul><h2 id="_5-\u79BB\u7EBF\u90E8\u7F72\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#_5-\u79BB\u7EBF\u90E8\u7F72\u6B65\u9AA4" aria-hidden="true">#</a> 5. \u79BB\u7EBF\u90E8\u7F72\u6B65\u9AA4</h2><ol><li><strong>\u62C9\u53D6\u955C\u50CF</strong>: \u6267\u884C\u4E0A\u9762\u7684 <code>docker pull</code> \u547D\u4EE4\u5C06\u6240\u9700\u7684\u6240\u6709\u955C\u50CF\u62C9\u53D6\u5230\u672C\u5730\u3002</li><li><strong>\u4FDD\u5B58\u955C\u50CF</strong>:</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker save -o &lt;tar-file-name&gt;.tar &lt;image-name&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li><strong>\u83B7\u53D6\u4EE3\u7801</strong>: \u514B\u9686\u4ED3\u5E93\uFF1A</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git clone https://github.com/OpenIMSDK/openim-docker.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,17),x=n("\u6216\u4ECE"),I={href:"https://github.com/OpenIMSDK/openim-docker/releases/",target:"_blank",rel:"noopener noreferrer"},O=n("Releases"),M=n("\u4E0B\u8F7D\u4EE3\u7801\u3002"),S=o(`<ol start="4"><li><strong>\u4F20\u8F93\u6587\u4EF6</strong>: \u4F7F\u7528 <code>scp</code> \u5C06\u6240\u6709\u955C\u50CF\u548C\u4EE3\u7801\u4F20\u8F93\u5230\u5185\u7F51\u670D\u52A1\u5668\u3002</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp &lt;tar-file-name&gt;.tar user@remote-ip:/path/on/remote/server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6216\u9009\u62E9\u5176\u4ED6\u4F20\u8F93\u65B9\u5F0F\u5982\u786C\u76D8\u3002</p><ol start="5"><li><strong>\u5BFC\u5165\u955C\u50CF</strong>: \u5728\u5185\u7F51\u670D\u52A1\u5668\u4E0A\uFF1A</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker load -i &lt;tar-file-name&gt;.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="6"><li><p><strong>\u90E8\u7F72</strong>\uFF1A\u8FDB\u5165 <code>openim-docker</code> \u4ED3\u5E93\u76EE\u5F55\uFF0C\u6309\u7167 README \u6587\u6863\u6307\u5BFC\u8FDB\u884C\u90E8\u7F72\u3002</p></li><li><p><strong>\u4F7F\u7528 Docker-compose \u90E8\u7F72</strong>:</p></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose up -d

# \u9A8C\u8BC1
docker-compose ps
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>\u5907\u6CE8</strong>: \u82E5\u60A8\u4F7F\u7528\u7684\u662F Docker \u7684\u7248\u672C 20 \u4E4B\u524D\uFF0C\u9700\u786E\u4FDD\u5DF2\u7ECF\u5B89\u88C5\u4E86 <code>docker-compose</code>\u3002</p></blockquote><h2 id="_6-\u53C2\u8003\u94FE\u63A5" tabindex="-1"><a class="header-anchor" href="#_6-\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a> 6. \u53C2\u8003\u94FE\u63A5</h2>`,9),D={href:"https://github.com/OpenIMSDK/Open-IM-Server/issues/432",target:"_blank",rel:"noopener noreferrer"},y=n("OpenIMSDK Issue #432"),K={href:"https://nsddd.notion.site/435ee747c0bc44048da9300a2d745ad3?pvs=25",target:"_blank",rel:"noopener noreferrer"},w=n("Notion Link"),q={href:"https://github.com/OpenIMSDK/Open-IM-Server/issues/474",target:"_blank",rel:"noopener noreferrer"},C=n("OpenIMSDK Issue #474"),E=o(`<h1 id="openim-offline-deployment-design" tabindex="-1"><a class="header-anchor" href="#openim-offline-deployment-design" aria-hidden="true">#</a> OpenIM Offline Deployment Design</h1><h2 id="_1-base-images" tabindex="-1"><a class="header-anchor" href="#_1-base-images" aria-hidden="true">#</a> 1. Base Images</h2><p>Below are the base images and their versions you&#39;ll need:</p><ul><li>wurstmeister/kafka</li><li>redis:7.0.0</li><li>mongo:6.0.2</li><li>mysql:5.7</li><li>wurstmeister/zookeeper</li><li>minio/minio</li></ul><p>Use the following commands to pull these base images:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker pull wurstmeister/kafka
docker pull redis:7.0.0
docker pull mongo:6.0.2
docker pull mysql:5.7
docker pull wurstmeister/zookeeper
docker pull minio/minio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-openim-chat-images" tabindex="-1"><a class="header-anchor" href="#_2-openim-chat-images" aria-hidden="true">#</a> 2. OpenIM &amp; Chat Images</h2>`,7),L=e("strong",null,"For detailed understanding of version management and storage of OpenIM and Chat",-1),N=n(": "),V={href:"https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/version.md",target:"_blank",rel:"noopener noreferrer"},z=n("version.md"),R=e("h3",{id:"openim-image",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#openim-image","aria-hidden":"true"},"#"),n(" OpenIM Image")],-1),B=n("Get image version info: "),A={href:"https://github.com/OpenIMSDK/Open-IM-Server/blob/main/docs/conversions/images.md",target:"_blank",rel:"noopener noreferrer"},F=n("images.md"),H=e("li",null,"Depending on the required version, execute the following command:",-1),T=o(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull ghcr.io/openimsdk/openim-server:<span class="token operator">&lt;</span>version-name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="chat-image" tabindex="-1"><a class="header-anchor" href="#chat-image" aria-hidden="true">#</a> Chat Image</h3><ul><li>Execute the following command to pull the image:</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull ghcr.io/openimsdk/openim-server:<span class="token operator">&lt;</span>version-name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-image-storage-selection" tabindex="-1"><a class="header-anchor" href="#_3-image-storage-selection" aria-hidden="true">#</a> 3. Image Storage Selection</h2><p><strong>Repositories</strong>:</p><ul><li>Alibaba Cloud: <code>registry.cn-hangzhou.aliyuncs.com/openimsdk/openim-server</code></li><li>Docker Hub: <code>openim/openim-server</code></li></ul><p><strong>Version Selection</strong>:</p><ul><li>Stable: e.g. release-v3.2 (or 3.1, 3.3)</li><li>Latest: latest</li><li>Latest of main: main</li></ul><h2 id="_4-version-selection" tabindex="-1"><a class="header-anchor" href="#_4-version-selection" aria-hidden="true">#</a> 4. Version Selection</h2><p>You can select from the following versions:</p><ul><li>Stable: e.g. release-v3.2</li><li>Latest: latest</li><li>Latest from main branch: main</li></ul><h2 id="_5-offline-deployment-steps" tabindex="-1"><a class="header-anchor" href="#_5-offline-deployment-steps" aria-hidden="true">#</a> 5. Offline Deployment Steps</h2><ol><li><strong>Pull images</strong>: Execute the above <code>docker pull</code> commands to pull all required images locally.</li><li><strong>Save images</strong>:</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker save -o &lt;tar-file-name&gt;.tar &lt;image-name&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li><strong>Fetch code</strong>: Clone the repository:</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>git clone https://github.com/OpenIMSDK/openim-docker.git
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,17),U=n("Or download the code from "),G={href:"https://github.com/OpenIMSDK/openim-docker/releases/",target:"_blank",rel:"noopener noreferrer"},P=n("Releases"),Y=n("."),j=o(`<ol><li><strong>Transfer files</strong>: Use <code>scp</code> to transfer all images and code to the intranet server.</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>scp &lt;tar-file-name&gt;.tar user@remote-ip:/path/on/remote/server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Or choose other transfer methods such as a hard drive.</p><ol><li><strong>Import images</strong>: On the intranet server:</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker load -i &lt;tar-file-name&gt;.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li><strong>Deploy</strong>: Navigate to the <code>openim-docker</code> repository directory and follow the README guide for deployment.</li><li><strong>Deploy using Docker-compose</strong>:</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker-compose up -d

# Verify
docker-compose ps
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>Note</strong>: If you&#39;re using a version of Docker prior to 20, make sure you&#39;ve installed <code>docker-compose</code>.</p></blockquote><h2 id="_6-reference-links" tabindex="-1"><a class="header-anchor" href="#_6-reference-links" aria-hidden="true">#</a> 6. Reference Links</h2>`,9),J={href:"https://github.com/OpenIMSDK/Open-IM-Server/issues/432",target:"_blank",rel:"noopener noreferrer"},Q=n("OpenIMSDK Issue #432"),W={href:"https://nsddd.notion.site/435ee747c0bc44048da9300a2d745ad3?pvs=25",target:"_blank",rel:"noopener noreferrer"},X=n("Notion Link"),Z={href:"https://github.com/OpenIMSDK/Open-IM-Server/issues/474",target:"_blank",rel:"noopener noreferrer"},$=n("OpenIMSDK Issue #474");function ee(ne,ie){const i=a("ExternalLinkIcon");return t(),l("div",null,[c,e("p",null,[u,h,e("a",m,[p,s(i)])]),g,e("ul",null,[e("li",null,[v,e("a",_,[b,s(i)])]),f]),k,e("p",null,[x,e("a",I,[O,s(i)]),M]),S,e("ul",null,[e("li",null,[e("a",D,[y,s(i)])]),e("li",null,[e("a",K,[w,s(i)])]),e("li",null,[e("a",q,[C,s(i)])])]),E,e("p",null,[L,N,e("a",V,[z,s(i)])]),R,e("ul",null,[e("li",null,[B,e("a",A,[F,s(i)])]),H]),T,e("p",null,[U,e("a",G,[P,s(i)]),Y]),j,e("ul",null,[e("li",null,[e("a",J,[Q,s(i)])]),e("li",null,[e("a",W,[X,s(i)])]),e("li",null,[e("a",Z,[$,s(i)])])])])}const oe=r(d,[["render",ee],["__file","113.html.vue"]]);export{oe as default};
