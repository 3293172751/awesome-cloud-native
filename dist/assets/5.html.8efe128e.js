import{_ as l,r as t,o as p,c,a as s,b as a,w as i,e as n,d as o}from"./app.5bf1abd2.js";const u={},d={href:"http://nsddd.top",target:"_blank",rel:"noopener noreferrer"},b=n("author"),m=s("h1",{id:"\u7B2C5\u8282-sealer-runtime-\u8BBE\u8BA1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u7B2C5\u8282-sealer-runtime-\u8BBE\u8BA1","aria-hidden":"true"},"#"),n(" \u7B2C5\u8282 sealer runtime \u8BBE\u8BA1")],-1),k=s("br",null,null,-1),v=s("div",null,[s("a",{href:"4.md",style:{float:"left"}},"\u2B06\uFE0F\u4E0A\u4E00\u8282\u{1F517} "),s("a",{href:"6.md",style:{float:"right"}}," \u2B07\uFE0F\u4E0B\u4E00\u8282\u{1F517}")],-1),x=s("br",null,null,-1),w=n("\u2764\uFE0F\u{1F495}\u{1F495}\u8BB0\u5F55"),g={href:"https://github.com/cubxxw/sealos",target:"_blank",rel:"noopener noreferrer"},h=n("sealos"),f=n("\u5F00\u6E90\u9879\u76EE\u7684\u5B66\u4E60\u8FC7\u7A0B\u3002"),y={href:"https://github.com/cubxxw/sealos",target:"_blank",rel:"noopener noreferrer"},N=n("k8s,docker\u548C\u4E91\u539F\u751F\u7684\u5B66\u4E60"),_=n("\u3002Myblog:"),q={href:"http://nsddd.top/",target:"_blank",rel:"noopener noreferrer"},C=n("http://nsddd.top"),P=o(`<p>[TOC]</p><h2 id="\u9879\u76EE\u89C4\u8303" tabindex="-1"><a class="header-anchor" href="#\u9879\u76EE\u89C4\u8303" aria-hidden="true">#</a> \u9879\u76EE\u89C4\u8303</h2><p>Here is my clusterfile: \u4E0B\u9762\u662F\u6211\u7684\u96C6\u7FA4\u6587\u4EF6\uFF1A</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> sealer.cloud/v2
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Cluster
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>test<span class="token punctuation">-</span>cluster
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">image</span><span class="token punctuation">:</span> docker.io/sealerio/k0s<span class="token punctuation">:</span>v1<span class="token punctuation">-</span>24<span class="token punctuation">-</span>10<span class="token punctuation">-</span>seaerio<span class="token punctuation">-</span><span class="token number">1</span>
  <span class="token key atrule">containerRuntime</span><span class="token punctuation">:</span> 
    <span class="token key atrule">type</span><span class="token punctuation">:</span> containerd
  <span class="token key atrule">ssh</span><span class="token punctuation">:</span>
    <span class="token key atrule">passwd</span><span class="token punctuation">:</span> Sealer123
  <span class="token key atrule">hosts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">ips</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> xxx.xxx.xxx.xxx <span class="token punctuation">]</span>
      <span class="token key atrule">roles</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> master <span class="token punctuation">]</span>
    <span class="token punctuation">-</span> <span class="token key atrule">ips</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> xxx.xxx.xxx.xxx <span class="token punctuation">]</span>
      <span class="token key atrule">roles</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> node <span class="token punctuation">]</span>
  <span class="token key atrule">registry</span><span class="token punctuation">:</span>
    <span class="token key atrule">localRegistry</span><span class="token punctuation">:</span>
      <span class="token key atrule">ha</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Test cases: \u6D4B\u8BD5\u7528\u4F8B\uFF1A \u6211\u4EEC\u9700\u8981\u4FDD\u8BC1\u6240\u6709\u64CD\u4F5C\u90FD\u5904\u4E8E\u8282\u70B9\u5C31\u7EEA\u72B6\u6001\u3002</p><ul><li>run: sealer run docker.io/sealerio/k0s:v1-24-10-seaerio-1 -m 10.1.0.218 -n 10.1.0.215 -p Sealer123 \u8FD0\u884C\uFF1A\u5C01\u53E3\u673A\u8FD0\u884Cdocker.io/sealerio/k0s:v1-24-10-seaerio-1-m10.1.0.218-n10.1.0.215-p\u5C01\u53E3\u673A123</li><li>scale-up: sealer scale-up -m 10.1.0.216-10.1.0.217 -n 10.1.0.219 -p Sealer123 \u6309\u6BD4\u4F8B\u653E\u5927\uFF1A\u5C01\u53E3\u673A\u6309\u6BD4\u4F8B\u653E\u5927-m 10.1.0.216-10.1.0.217 -n10.1.0.219-p\u5C01\u53E3\u673A123 failed in Registry HA mode. (seautil not found) \u5728\u6CE8\u518C\u8868HA\u6A21\u5F0F\u4E0B\u5931\u8D25\u3002\uFF08\u672A\u627E\u5230seautil\uFF09 successed in Registry not HA mode. \u5728\u975EHA\u6A21\u5F0F\u4E0B\u6CE8\u518C\u6210\u529F\u3002</li><li>delete: sealer delete -m 10.1.0.216 \u5220\u9664\uFF1A\u5C01\u53E3\u673A\u5220\u9664-m10.1.0.216</li><li>delete -a \u5220\u9664-a</li><li>1master + 3 node install and delete. 1\u4E3B\u8282\u70B9+ 3\u8282\u70B9\u5B89\u88C5\u548C\u5220\u9664\u3002</li><li>3master + 1 node install and delete. 3\u4E3B\u8282\u70B9+ 1\u8282\u70B9\u5B89\u88C5\u548C\u5220\u9664\u3002</li></ul><h2 id="for-k0s" tabindex="-1"><a class="header-anchor" href="#for-k0s" aria-hidden="true">#</a> For k0s</h2><p>The build content all your need, following is an x86_64 arch case:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">.</span>
\u251C\u2500\u2500 amd64
\u2502   \u251C\u2500\u2500 bin
\u2502   \u2502   \u251C\u2500\u2500 conntrack
\u2502   \u2502   \u251C\u2500\u2500 containerd-rootless-setuptool.sh
\u2502   \u2502   \u251C\u2500\u2500 containerd-rootless.sh
\u2502   \u2502   \u251C\u2500\u2500 crictl
\u2502   \u2502   \u251C\u2500\u2500 k0s
\u2502   \u2502   \u251C\u2500\u2500 kubectl
\u2502   \u2502   \u251C\u2500\u2500 nerdctl
\u2502   \u2502   \u2514\u2500\u2500 seautil
\u2502   \u251C\u2500\u2500 cri
\u2502   \u2502   \u2514\u2500\u2500 containerd.tar.gz
\u2502   \u2514\u2500\u2500 images
\u2502       \u2514\u2500\u2500 nerdctl-amd64-registry-image.tar.gz
\u251C\u2500\u2500 imageList
\u251C\u2500\u2500 Kubefile
\u2514\u2500\u2500 rootfs
    \u251C\u2500\u2500 etc
    \u2502   \u251C\u2500\u2500 containerd-config.toml
    \u2502   \u251C\u2500\u2500 containerd.service
    \u2502   \u2514\u2500\u2500 registry_config.yml
    \u251C\u2500\u2500 lib
    \u251C\u2500\u2500 manifests
    \u2514\u2500\u2500 scripts
        \u251C\u2500\u2500 containerd.sh
        \u251C\u2500\u2500 init-kube.sh
        \u251C\u2500\u2500 init-registry.sh
        \u2514\u2500\u2500 uninstall-containerd.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Kubefile:</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> scratch</span>
<span class="token instruction"><span class="token keyword">COPY</span> rootfs .</span>
<span class="token instruction"><span class="token keyword">COPY</span> amd64 .</span>
<span class="token instruction"><span class="token keyword">COPY</span> imageList manifests</span>
<span class="token instruction"><span class="token keyword">LABEL</span> <span class="token string">&quot;cluster.alpha.sealer.io/cluster-runtime-version&quot;</span>=<span class="token string">&quot;v1.24.10&quot;</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> <span class="token string">&quot;cluster.alpha.sealer.io/cluster-runtime-type&quot;</span>=<span class="token string">&quot;k0s&quot;</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> <span class="token string">&quot;cluster.alpha.sealer.io/container-runtime-type&quot;</span>=<span class="token string">&quot;containerd&quot;</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> <span class="token string">&quot;cluster.alpha.sealer.io/container-runtime-version&quot;</span>=<span class="token string">&quot;1.5.12&quot;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>imageList:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>quay.io/k0sproject/apiserver-network-proxy-agent:0.0.32-k0s1
docker.io/coredns/coredns:1.7.1
registry.k8s.io/kube-proxy:v1.24.10
registry.k8s.io/metrics-server/metrics-server:v0.5.2
registry.k8s.io/pause:3.6
docker.io/cloudnativelabs/kube-router:v1.4.0
quay.io/k0sproject/cni-node:1.1.1-k0s.0
docker.io/calico/cni:v3.23.5
docker.io/calico/kube-controllers:v3.23.5
docker.io/calico/node:v3.23.5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>build:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>sealer build <span class="token parameter variable">-f</span> Kubefile <span class="token parameter variable">-t</span> my-k0s:1.24.10 <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u6CE8\u610F" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u610F" aria-hidden="true">#</a> \u6CE8\u610F</h2><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>k8s \u4ECE v1.24 \u5F00\u59CB\uFF0Ckubernetes \u9ED8\u8BA4\u5BB9\u5668\u8FD0\u884C\u65F6\u4F7F\u7528 <code>containerd</code> \uFF0C\u4E0D\u518D\u4F7F\u7528 <code>docker</code>\u3002</p><p>k3s \u5C06\u6240\u6709 kubernetes \u63A7\u5236\u5C42\u9762\u7EC4\u4EF6\u90FD\u5C01\u88C5\u5230 \u5355\u4E2A\u4E8C\u8FDB\u5236\u4E2D \uFF0C\u5360\u7528\u8D44\u6E90\u5C0F\uFF0C\u4E14\u5305\u542B\u4E86 kubernetes \u8FD0\u884C\u65F6\u6240\u9700\u8981\u7684\u5916\u90E8\u4F9D\u8D56\u548C\u672C\u5730\u5B58\u50A8\u63D0\u4F9B\u7A0B\u5E8F\u3002</p><p>k3s \u63D0\u4F9B\u79BB\u7EBF\u5B89\u88C5\u5305\uFF0C\u53EF\u4EE5\u907F\u514D\u7F51\u7EDC\u8D44\u6E90\u8BBF\u95EE\u95EE\u9898\u3002</p></div><h2 id="\u8FD0\u884C\u65F6" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C\u65F6" aria-hidden="true">#</a> \u8FD0\u884C\u65F6</h2><div class="custom-container warning"><p class="custom-container-title">\u4EC0\u4E48\u662F \u8FD0\u884C\u65F6</p><p>\u6211\u4EEC\u5206\u4E3A\u5E7F\u4E49\u548C\u4FA0\u4E49</p><ul><li>\u5E7F\u4E49\uFF1A\u7A0B\u5E8F\u8DD1\u8D77\u6765\u7684\u65F6\u5019</li><li>\u4FA0\u4E49\uFF1A\u8F85\u52A9\u7A0B\u5E8F\u8DD1\u8D77\u6765\u7684\u4EE3\u7801\u548C\u73AF\u5883</li></ul><p>\u6211\u4EEC\u6216\u8BB8\u53EF\u4EE5\u628A runtime \u548C compile-time \u5BF9\u6BD4\uFF1A</p><p>\u6211\u4EEC\u90FD\u5E0C\u671B\u7F16\u8BD1\u5668\u53D1\u73B0\u9519\u8BEF\uFF0C\u800C\u4E0D\u662F\u6D4B\u8BD5\u8DD1\u7684\u65F6\u5019\u53D1\u73B0\u9519\u8BEF\uFF0C\u800C\u4E14\u6392\u67E5\u5F88\u96BE\u3002</p><ul><li>runtime\uFF1A\u5185\u5B58\u9519\u8BEF\u3001\u6570\u5B57\u9519\u8BEF</li><li>compile-time\uFF1A\u8BED\u6CD5\u9519\u8BEF\uFF0C\u8BED\u4E49\u9519\u8BEF</li></ul><p><strong>\u4FA0\u4E49\u4E0A\u7684\u8FD0\u884C\u65F6\uFF1A</strong></p><ul><li>\u8FD0\u884C\u65F6\u5E93\uFF08runtime library\uFF09<code>stdio.h</code></li><li>\u8FD0\u884C\u65F6\u73AF\u5883\uFF08runtime environment\uFF09</li></ul><p><strong>\u8FD0\u884C\u65F6\u73AF\u5883\uFF1A</strong></p><ul><li>&quot;\u65E0&quot; \u8FD0\u884C\u65F6 \u2013 \u4F9D\u8D56 os <ul><li>c/c++</li><li>rust</li></ul></li><li>\u8F7B\u8FD0\u884C\u65F6 <ul><li>Golang</li></ul></li><li>\u91CD\u8FD0\u884C\u65F6 <ul><li>java\uFF08JVM\uFF09</li><li>python\uFF08CPython\uFF09</li><li>C#\uFF08.NET runtime\uFF09</li></ul></li></ul></div><h2 id="\u76EE\u5F55\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#\u76EE\u5F55\u7ED3\u6784" aria-hidden="true">#</a> \u76EE\u5F55\u7ED3\u6784</h2><details class="custom-container details"><summary>\u76EE\u5F55\u7ED3\u6784</summary><ul><li><p><strong>/bin</strong>\uFF1A</p><ul><li><code>bin</code> \u662F <code>Binaries</code> (\u4E8C\u8FDB\u5236\u6587\u4EF6) \u7684\u7F29\u5199, \u8FD9\u4E2A\u76EE\u5F55\u5B58\u653E\u7740\u6700\u7ECF\u5E38\u4F7F\u7528\u7684\u547D\u4EE4\u3002</li></ul></li><li><p><strong>/boot</strong>\uFF1A</p><ul><li>\u8FD9\u91CC\u5B58\u653E\u7684\u662F\u542F\u52A8 Linux \u65F6\u4F7F\u7528\u7684\u4E00\u4E9B\u6838\u5FC3\u6587\u4EF6\uFF0C\u5305\u62EC\u4E00\u4E9B\u8FDE\u63A5\u6587\u4EF6\u4EE5\u53CA\u955C\u50CF\u6587\u4EF6\u3002</li></ul></li><li><p><strong>/dev</strong> \uFF1A</p><ul><li><code>dev</code> \u662F <code>Device</code>(\u8BBE\u5907) \u7684\u7F29\u5199, \u8BE5\u76EE\u5F55\u4E0B\u5B58\u653E\u7684\u662F Linux \u7684\u5916\u90E8\u8BBE\u5907\uFF0C\u5728 Linux \u4E2D\u8BBF\u95EE\u8BBE\u5907\u7684\u65B9\u5F0F\u548C\u8BBF\u95EE\u6587\u4EF6\u7684\u65B9\u5F0F\u662F\u76F8\u540C\u7684\u3002</li></ul></li><li><p><strong>/etc</strong>\uFF1A</p><ul><li><code>etc</code> <strong>\u662F</strong> <code>Etcetera</code>(\u7B49\u7B49**) **\u7684\u7F29\u5199\uFF0C\u8FD9\u4E2A\u76EE\u5F55\u7528\u6765\u5B58\u653E\u6240\u6709\u7684\u7CFB\u7EDF\u7BA1\u7406\u6240\u9700\u8981\u7684\u914D\u7F6E\u6587\u4EF6\u548C\u5B50\u76EE\u5F55\u3002</li></ul></li><li><p><strong>/home</strong>\uFF1A</p><ul><li>\u7528\u6237\u7684\u4E3B\u76EE\u5F55\uFF0C\u5728 Linux \u4E2D\uFF0C\u6BCF\u4E2A\u7528\u6237\u90FD\u6709\u4E00\u4E2A\u81EA\u5DF1\u7684\u76EE\u5F55\uFF0C\u4E00\u822C\u8BE5\u76EE\u5F55\u540D\u662F\u4EE5\u7528\u6237\u7684\u8D26\u53F7\u547D\u540D\u7684\uFF0C\u5982\u4E0A\u56FE\u4E2D\u7684 alice\u3001bob \u548C eve\u3002</li></ul></li><li><p><strong>/lib</strong>\uFF1A</p><ul><li><code>lib</code> \u662FLibrary(\u5E93) \u7684\u7F29\u5199\u8FD9\u4E2A\u76EE\u5F55\u91CC\u5B58\u653E\u7740\u7CFB\u7EDF\u6700\u57FA\u672C\u7684\u52A8\u6001\u8FDE\u63A5\u5171\u4EAB\u5E93\uFF0C\u5176\u4F5C\u7528\u7C7B\u4F3C\u4E8E Windows \u91CC\u7684 DLL \u6587\u4EF6\u3002\u51E0\u4E4E\u6240\u6709\u7684\u5E94\u7528\u7A0B\u5E8F\u90FD\u9700\u8981\u7528\u5230\u8FD9\u4E9B\u5171\u4EAB\u5E93\u3002</li></ul></li><li><p><strong>/lost+found</strong>\uFF1A</p><ul><li>\u8FD9\u4E2A\u76EE\u5F55\u4E00\u822C\u60C5\u51B5\u4E0B\u662F\u7A7A\u7684\uFF0C\u5F53\u7CFB\u7EDF\u975E\u6CD5\u5173\u673A\u540E\uFF0C\u8FD9\u91CC\u5C31\u5B58\u653E\u4E86\u4E00\u4E9B\u6587\u4EF6\u3002</li></ul></li><li><p><strong>/media</strong>\uFF1A</p><ul><li>linux \u7CFB\u7EDF\u4F1A\u81EA\u52A8\u8BC6\u522B\u4E00\u4E9B\u8BBE\u5907\uFF0C\u4F8B\u5982U\u76D8\u3001\u5149\u9A71\u7B49\u7B49\uFF0C\u5F53\u8BC6\u522B\u540E\uFF0CLinux \u4F1A\u628A\u8BC6\u522B\u7684\u8BBE\u5907\u6302\u8F7D\u5230\u8FD9\u4E2A\u76EE\u5F55\u4E0B\u3002</li></ul></li><li><p><strong>/mnt</strong></p><ul><li>\u7CFB\u7EDF\u63D0\u4F9B\u8BE5\u76EE\u5F55\u662F\u4E3A\u4E86\u8BA9\u7528\u6237\u4E34\u65F6\u6302\u8F7D\u522B\u7684\u6587\u4EF6\u7CFB\u7EDF\u7684\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u5149\u9A71\u6302\u8F7D\u5728 /mnt/ \u4E0A\uFF0C\u7136\u540E\u8FDB\u5165\u8BE5\u76EE\u5F55\u5C31\u53EF\u4EE5\u67E5\u770B\u5149\u9A71\u91CC\u7684\u5185\u5BB9\u4E86\u3002</li></ul></li><li><p><strong>/opt</strong>\uFF1A</p><ul><li>opt \u662Foptional(\u53EF\u9009) \u7684\u7F29\u5199\uFF0C\u8FD9\u662F\u7ED9\u4E3B\u673A\u989D\u5916\u5B89\u88C5\u8F6F\u4EF6\u6240\u6446\u653E\u7684\u76EE\u5F55\u3002\u6BD4\u5982\u4F60\u5B89\u88C5\u4E00\u4E2AORACLE\u6570\u636E\u5E93\u5219\u5C31\u53EF\u4EE5\u653E\u5230\u8FD9\u4E2A\u76EE\u5F55\u4E0B\u3002\u9ED8\u8BA4\u662F\u7A7A\u7684\u3002</li></ul></li><li><p><strong>/proc</strong>\uFF1A</p><ul><li><code>proc</code> \u662F<code>Processes</code>(\u8FDB\u7A0B) \u7684\u7F29\u5199\uFF0C<code>/proc</code>\u662F\u4E00\u79CD\u4F2A\u6587\u4EF6\u7CFB\u7EDF\uFF08\u4E5F\u5373\u865A\u62DF\u6587\u4EF6\u7CFB\u7EDF\uFF09\uFF0C\u5B58\u50A8\u7684\u662F\u5F53\u524D\u5185\u6838\u8FD0\u884C\u72B6\u6001\u7684\u4E00\u7CFB\u5217\u7279\u6B8A\u6587\u4EF6\uFF0C\u8FD9\u4E2A\u76EE\u5F55\u662F\u4E00\u4E2A\u865A\u62DF\u7684\u76EE\u5F55\uFF0C\u5B83\u662F\u7CFB\u7EDF\u5185\u5B58\u7684\u6620\u5C04\uFF0C\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u76F4\u63A5\u8BBF\u95EE\u8FD9\u4E2A\u76EE\u5F55\u6765\u83B7\u53D6\u7CFB\u7EDF\u4FE1\u606F\u3002</li></ul><p>\u8FD9\u4E2A\u76EE\u5F55\u7684\u5185\u5BB9\u4E0D\u5728\u786C\u76D8\u4E0A\u800C\u662F\u5728\u5185\u5B58\u91CC\uFF0C\u6211\u4EEC\u4E5F\u53EF\u4EE5\u76F4\u63A5\u4FEE\u6539\u91CC\u9762\u7684\u67D0\u4E9B\u6587\u4EF6\uFF0C\u6BD4\u5982\u53EF\u4EE5\u901A\u8FC7\u4E0B\u9762\u7684\u547D\u4EE4\u6765\u5C4F\u853D\u4E3B\u673A\u7684 <code>ping</code> \u547D\u4EE4\uFF0C\u4F7F\u522B\u4EBA\u65E0\u6CD5 <code>ping</code> \u4F60\u7684\u673A\u5668\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token number">1</span> <span class="token operator">&gt;</span> /proc/sys/net/ipv4/icmp_echo_ignore_all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><strong>/root</strong>\uFF1A</p><ul><li>\u8BE5\u76EE\u5F55\u4E3A\u7CFB\u7EDF\u7BA1\u7406\u5458\uFF0C\u4E5F\u79F0\u4F5C\u8D85\u7EA7\u6743\u9650\u8005\u7684\u7528\u6237\u4E3B\u76EE\u5F55\u3002</li></ul></li><li><p><strong>/sbin</strong>\uFF1A</p><ul><li><code>s</code> \u5C31\u662F <code>Super User</code> \u7684\u610F\u601D\uFF0C\u662F Superuser Binaries (\u8D85\u7EA7\u7528\u6237\u7684\u4E8C\u8FDB\u5236\u6587\u4EF6) \u7684\u7F29\u5199\uFF0C\u8FD9\u91CC\u5B58\u653E\u7684\u662F\u7CFB\u7EDF\u7BA1\u7406\u5458\u4F7F\u7528\u7684\u7CFB\u7EDF\u7BA1\u7406\u7A0B\u5E8F\u3002</li></ul></li><li><p><strong>/selinux</strong>\uFF1A</p><ul><li>\u8FD9\u4E2A\u76EE\u5F55\u662F <code>Redhat/CentOS</code> \u6240\u7279\u6709\u7684\u76EE\u5F55\uFF0C<code>Selinux</code>\u662F\u4E00\u4E2A\u5B89\u5168\u673A\u5236\uFF0C\u7C7B\u4F3C\u4E8E windows \u7684\u9632\u706B\u5899\uFF0C\u4F46\u662F\u8FD9\u5957\u673A\u5236\u6BD4\u8F83\u590D\u6742\uFF0C\u8FD9\u4E2A\u76EE\u5F55\u5C31\u662F\u5B58\u653E<code>selinux</code>\u76F8\u5173\u7684\u6587\u4EF6\u7684\u3002</li></ul></li><li><p><strong>/srv</strong>\uFF1A</p><ul><li>\u8BE5\u76EE\u5F55\u5B58\u653E\u4E00\u4E9B\u670D\u52A1\u542F\u52A8\u4E4B\u540E\u9700\u8981\u63D0\u53D6\u7684\u6570\u636E\u3002</li></ul></li><li><p><strong>/sys</strong>\uFF1A</p><ul><li>\u8FD9\u662F Linux2.6 \u5185\u6838\u7684\u4E00\u4E2A\u5F88\u5927\u7684\u53D8\u5316\u3002\u8BE5\u76EE\u5F55\u4E0B\u5B89\u88C5\u4E86 2.6 \u5185\u6838\u4E2D\u65B0\u51FA\u73B0\u7684\u4E00\u4E2A\u6587\u4EF6\u7CFB\u7EDF sysfs sysfs \u6587\u4EF6\u7CFB\u7EDF\u96C6\u6210\u4E86\u4E0B\u97623\u79CD\u6587\u4EF6\u7CFB\u7EDF\u7684\u4FE1\u606F\uFF1A\u9488\u5BF9\u8FDB\u7A0B\u4FE1\u606F\u7684 proc \u6587\u4EF6\u7CFB\u7EDF\u3001\u9488\u5BF9\u8BBE\u5907\u7684 devfs \u6587\u4EF6\u7CFB\u7EDF\u4EE5\u53CA\u9488\u5BF9\u4F2A\u7EC8\u7AEF\u7684 devpts \u6587\u4EF6\u7CFB\u7EDF\u3002 \u8BE5\u6587\u4EF6\u7CFB\u7EDF\u662F\u5185\u6838\u8BBE\u5907\u6811\u7684\u4E00\u4E2A\u76F4\u89C2\u53CD\u6620\u3002 \u5F53\u4E00\u4E2A\u5185\u6838\u5BF9\u8C61\u88AB\u521B\u5EFA\u7684\u65F6\u5019\uFF0C\u5BF9\u5E94\u7684\u6587\u4EF6\u548C\u76EE\u5F55\u4E5F\u5728\u5185\u6838\u5BF9\u8C61\u5B50\u7CFB\u7EDF\u4E2D\u88AB\u521B\u5EFA\u3002</li></ul></li><li><p><strong>/tmp</strong>\uFF1A</p><ul><li><code>tmp</code> \u662F<code>temporary</code>(\u4E34\u65F6) \u7684\u7F29\u5199\u8FD9\u4E2A\u76EE\u5F55\u662F\u7528\u6765\u5B58\u653E\u4E00\u4E9B\u4E34\u65F6\u6587\u4EF6\u7684\u3002</li></ul></li><li><p><strong>/usr</strong>\uFF1A</p><ul><li>usr \u662F unix shared resources(\u5171\u4EAB\u8D44\u6E90) \u7684\u7F29\u5199\uFF0C\u8FD9\u662F\u4E00\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u76EE\u5F55\uFF0C\u7528\u6237\u7684\u5F88\u591A\u5E94\u7528\u7A0B\u5E8F\u548C\u6587\u4EF6\u90FD\u653E\u5728\u8FD9\u4E2A\u76EE\u5F55\u4E0B\uFF0C\u7C7B\u4F3C\u4E8E windows \u4E0B\u7684 program files \u76EE\u5F55\u3002</li></ul></li><li><p><strong>/usr/bin</strong>\uFF1A</p><ul><li>\u7CFB\u7EDF\u7528\u6237\u4F7F\u7528\u7684\u5E94\u7528\u7A0B\u5E8F\u3002</li></ul></li><li><p><strong>/usr/sbin</strong>\uFF1A</p><ul><li>\u8D85\u7EA7\u7528\u6237\u4F7F\u7528\u7684\u6BD4\u8F83\u9AD8\u7EA7\u7684\u7BA1\u7406\u7A0B\u5E8F\u548C\u7CFB\u7EDF\u5B88\u62A4\u7A0B\u5E8F\u3002</li></ul></li><li><p><strong>/usr/src</strong>\uFF1A</p><ul><li>\u5185\u6838\u6E90\u4EE3\u7801\u9ED8\u8BA4\u7684\u653E\u7F6E\u76EE\u5F55\u3002</li></ul></li><li><p><strong>/var</strong>\uFF1A</p><ul><li>var \u662F variable(\u53D8\u91CF) \u7684\u7F29\u5199\uFF0C\u8FD9\u4E2A\u76EE\u5F55\u4E2D\u5B58\u653E\u7740\u5728\u4E0D\u65AD\u6269\u5145\u7740\u7684\u4E1C\u897F\uFF0C\u6211\u4EEC\u4E60\u60EF\u5C06\u90A3\u4E9B\u7ECF\u5E38\u88AB\u4FEE\u6539\u7684\u76EE\u5F55\u653E\u5728\u8FD9\u4E2A\u76EE\u5F55\u4E0B\u3002\u5305\u62EC\u5404\u79CD\u65E5\u5FD7\u6587\u4EF6\u3002</li></ul></li><li><p><strong>/run</strong>\uFF1A</p><ul><li>\u662F\u4E00\u4E2A\u4E34\u65F6\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5B58\u50A8\u7CFB\u7EDF\u542F\u52A8\u4EE5\u6765\u7684\u4FE1\u606F\u3002\u5F53\u7CFB\u7EDF\u91CD\u542F\u65F6\uFF0C\u8FD9\u4E2A\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6\u5E94\u8BE5\u88AB\u5220\u6389\u6216\u6E05\u9664\u3002\u5982\u679C\u4F60\u7684\u7CFB\u7EDF\u4E0A\u6709 <code>/var/run</code> \u76EE\u5F55\uFF0C\u5E94\u8BE5\u8BA9\u5B83\u6307\u5411 <code>run</code>\u3002</li></ul></li></ul><p><strong>\u{1F4A1} \u91CD\u8981\u7684\u76EE\u5F55\u7ED3\u6784\uFF1A</strong></p><p><strong>\u5728 Linux \u7CFB\u7EDF\u4E2D\uFF0C\u6709\u51E0\u4E2A\u76EE\u5F55\u662F\u6BD4\u8F83\u91CD\u8981\u7684\uFF0C\u5E73\u65F6\u9700\u8981\u6CE8\u610F\u4E0D\u8981\u8BEF\u5220\u9664\u6216\u8005\u968F\u610F\u66F4\u6539\u5185\u90E8\u6587\u4EF6\u3002</strong></p><p><code>-/etc</code>\uFF1A \u4E0A\u8FB9\u4E5F\u63D0\u5230\u4E86\uFF0C\u8FD9\u4E2A\u662F\u7CFB\u7EDF\u4E2D\u7684\u914D\u7F6E\u6587\u4EF6\uFF0C\u5982\u679C\u4F60\u66F4\u6539\u4E86\u8BE5\u76EE\u5F55\u4E0B\u7684\u67D0\u4E2A\u6587\u4EF6\u53EF\u80FD\u4F1A\u5BFC\u81F4\u7CFB\u7EDF\u4E0D\u80FD\u542F\u52A8\u3002</p><p><code>-/bin, /sbin, /usr/bin, /usr/sbin:</code> \u8FD9\u662F\u7CFB\u7EDF\u9884\u8BBE\u7684\u6267\u884C\u6587\u4EF6\u7684\u653E\u7F6E\u76EE\u5F55\uFF0C\u6BD4\u5982 ls \u5C31\u662F\u5728 <code>/bin/ls</code> \u76EE\u5F55\u4E0B\u7684\u3002</p><p><strong>\u503C\u5F97\u63D0\u51FA\u7684\u662F\uFF0C/bin, /usr/bin \u662F\u7ED9\u7CFB\u7EDF\u7528\u6237\u4F7F\u7528\u7684\u6307\u4EE4\uFF08\u9664root\u5916\u7684\u901A\u7528\u6237\uFF09\uFF0C\u800C/sbin, /usr/sbin \u5219\u662F\u7ED9 root \u4F7F\u7528\u7684\u6307\u4EE4\u3002</strong></p><p><code>-/var</code>\uFF1A \u8FD9\u662F\u4E00\u4E2A\u975E\u5E38\u91CD\u8981\u7684\u76EE\u5F55\uFF0C\u7CFB\u7EDF\u4E0A\u8DD1\u4E86\u5F88\u591A\u7A0B\u5E8F\uFF0C\u90A3\u4E48\u6BCF\u4E2A\u7A0B\u5E8F\u90FD\u4F1A\u6709\u76F8\u5E94\u7684\u65E5\u5FD7\u4EA7\u751F\uFF0C\u800C\u8FD9\u4E9B\u65E5\u5FD7\u5C31\u88AB\u8BB0\u5F55\u5230\u8FD9\u4E2A\u76EE\u5F55\u4E0B\uFF0C\u5177\u4F53\u5728 <code>/var/log</code> \u76EE\u5F55\u4E0B\uFF0C\u53E6\u5916 <code>mail</code> \u7684\u9884\u8BBE\u653E\u7F6E\u4E5F\u662F\u5728\u8FD9\u91CC\u3002</p></details><h2 id="\u524D\u8A00" tabindex="-1"><a class="header-anchor" href="#\u524D\u8A00" aria-hidden="true">#</a> \u524D\u8A00</h2><p><strong>\u8BAE\u9898\uFF1A</strong></p>`,23),I={href:"https://github.com/sealerio/sealer/issues/1839",target:"_blank",rel:"noopener noreferrer"},R=n("https://github.com/sealerio/sealer/issues/1839"),L={href:"https://github.com/sealerio/sealer/issues/1770",target:"_blank",rel:"noopener noreferrer"},A=n("https://github.com/sealerio/sealer/issues/1770"),S=s("h3",{id:"what-is-the-problem-this-feature-will-solve",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#what-is-the-problem-this-feature-will-solve","aria-hidden":"true"},"#"),n(" What is the problem this feature will solve?")],-1),E=s("ul",null,[s("li",null,"Brings all the benefits of k3s. @https://www.rancher.cn/k3s/"),s("li",null,"No k3s no sealos.")],-1),D=s("blockquote",null,[s("p",null,"Sealos wants to hit the mass market, which is consistent with the direction of k3s. The lightweight k3s is more popular with mass developers.")],-1),z=s("p",null,"\u6211\u4EEC\u5728\u8DEF\u7EBF\u56FE\u4E2D\u5BF9 k8s\u3001k0s\u3001k3s \u8FD0\u884C\u65F6\u652F\u6301\u7684\u5DE5\u4F5C\u5E94\u8BE5\u6709\u4E00\u4E2A\u8FDB\u5EA6\u8BB0\u5F55\uFF0C\u5E94\u8BE5\u662F\u8BA9\u5DE5\u4F5C\u8FDB\u5EA6\u66F4\u52A0\u6E05\u6670\uFF0C\u5E76\u5438\u5F15\u66F4\u591A\u7684\u53C2\u4E0E\u8005\u52A0\u5165\u8FD9\u4E2A\u6838\u5FC3\u5DE5\u4F5C\u3002\u8FD9\u91CC\u7B80\u5355\u4ECB\u7ECD\u4E00\u4E0B\u90E8\u5206\u5DE5\u4F5C\uFF1A",-1),O=s("p",null,"\u9605\u8BFB Sealer \u4E3B\u5206\u652F\u4EE3\u7801\uFF0C\u7406\u89E3 runtime \u6A21\u5757\u4E2D\u7684\u4EE3\u7801\uFF0C\u638C\u63E1\u4ECE cmd \u6A21\u5757\u5230 runtime \u6A21\u5757\u7684\u4EE3\u7801\u8C03\u7528\u903B\u8F91\u3002",-1),$=s("p",null,"\u901A\u8FC7k8s\u3001k0s\u3001k3s\u5B98\u7F51\u9605\u8BFB\u5E76\u8BBE\u8BA1\u8FD0\u884C\u65F6\u63A5\u53E3\u5B9E\u73B0\u65B9\u6CD5\u3002",-1),G=n("\u4E3A\u6307\u5B9A\u7684\u8FD0\u884C\u65F6\u8BFB\u53D6\u548C\u8BBE\u8BA1 clusterImage\u3002\u4E3B\u8981\u53C2\u8003\uFF1A "),B={href:"http://sealer.cool/docs/advanced/define-cloudimage.html#customize-the-cloudrootfs",target:"_blank",rel:"noopener noreferrer"},K=n("ClusterImage"),j=n("\u3001"),H={href:"https://github.com/sealerio/basefs",target:"_blank",rel:"noopener noreferrer"},F=n("basefs"),M=n("\u3002"),V=o(`<p>\u7C7B\u578B\uFF1A\u529F\u80FD\u8BF7\u6C42</p><ul><li>\u5355\u7ED3\u70B9\u6210\u4E3A\u9AD8\u53EF\u7528~</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker~ run cmd 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="clusterlmage" tabindex="-1"><a class="header-anchor" href="#clusterlmage" aria-hidden="true">#</a> Clusterlmage</h2><div class="custom-container tip"><p class="custom-container-title">location</p><p>https://github.com/sealerio/basefs</p></div><h3 id="cluster" tabindex="-1"><a class="header-anchor" href="#cluster" aria-hidden="true">#</a> cluster</h3><ul><li><code>Bin file</code>\uFF0C\u5982 docker\u3001containerd\u3001crictl\u3001kubeadm\u3001kubectl...</li><li><code>config file</code> \uFF0C\u5982 kubelet systemd config\u3001docker systemd config\u3001docker daemon.json...</li><li><code>registry</code> images\u3002</li><li><code>Some metadata</code>\uFF0C\u4F8B\u5982 Kubernetes \u7248\u672C\u4FE1\u606F\u3002</li><li><code>registry file</code>\uFF0C\u5305\u542B\u6240\u6709\u7684docker\u955C\u50CF\uFF0C\u6BD4\u5982kubernetes\u6838\u5FC3\u7EC4\u4EF6docker\u955C\u50CF...</li><li><code>Script</code>\uFF0C\u4E00\u4E9B\u7528\u4E8E\u5B89\u88C5 docker \u548C kubelet \u7684 shell \u811A\u672C... sealer \u5C06\u8C03\u7528 <code>init.sh</code> \u548C <code>clean.sh</code>\u3002</li><li><code>Other static files</code> \uFF1A\u5176\u4ED6\u9759\u6001\u6587\u4EF6</li></ul><p>\u4F7F\u7528 Kubernetes \u4EEA\u8868\u677F\u6784\u5EFA ClusterImage\uFF1A</p><p>FileName\uFF1A<code>Kubefile</code></p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token comment"># base ClusterImage contains all the files that run a kubernetes cluster needed.</span>
<span class="token comment">#    1. kubernetes components like kubectl kubeadm kubelet and apiserver images ...</span>
<span class="token comment">#    2. docker engine, and a private registry</span>
<span class="token comment">#    3. config files, yaml, static files, scripts ...</span>
<span class="token instruction"><span class="token keyword">FROM</span> registry.cn-qingdao.aliyuncs.com/sealer-io/kubernetes:v1.19.8</span>
<span class="token comment"># download kubernetes dashboard yaml file</span>
<span class="token instruction"><span class="token keyword">RUN</span> wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.2.0/aio/deploy/recommended.yaml</span>
<span class="token comment"># when run this ClusterImage, will apply a dashboard manifests</span>
<span class="token instruction"><span class="token keyword">CMD</span> kubectl apply -f recommended.yaml</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Build it\uFF1A</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>sealer build <span class="token parameter variable">-t</span> registry.cn-qingdao.aliyuncs.com/sealer-io/dashboard:latest <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Make it run\uFF1A</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># sealer will install a kubernetes on host 192.168.0.2 then apply the dashboard manifests</span>
sealer run registry.cn-qingdao.aliyuncs.com/sealer-io/dashboard:latest <span class="token parameter variable">--masters</span> <span class="token number">192.168</span>.0.2 <span class="token parameter variable">--passwd</span> xxx
<span class="token comment"># check the pod</span>

kubectl get pod -A<span class="token operator">|</span><span class="token function">grep</span> dashboard
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u8C03\u7814" tabindex="-1"><a class="header-anchor" href="#\u8C03\u7814" aria-hidden="true">#</a> \u8C03\u7814</h2><p>\u9996\u5148\u9700\u8981\u8C03\u7814\uFF0C\u7136\u540E\u51FA\u4E00\u4E2A\u8BBE\u8BA1\u7A3F\uFF0C\u6BD4\u5982 <code>install</code> \u6A21\u5757\u600E\u4E48\u548C k3s \u7ED3\u5408</p><p><code>apply</code> \u4F1A\u5BF9\u6BD4\u4E00\u4E0B\u65B0\u65E7\u96C6\u7FA4\u7684\u5DEE\u522B\uFF0C\u7136\u540E\u518D\u786E\u5B9A\u662F\u5426\u8C03\u7528 <code>runtime</code> \u6765\u6269\u7F29\u5BB9\u96C6\u7FA4</p><blockquote><p>\u76EE\u524Dk3s\u8FD8\u6CA1\u6709\u5B9E\u73B0\uFF0C<code>k0s</code> \u5728\u6700\u65B0\u4EE3\u7801\u4E2D\u8FD8\u6CA1\u6709\u9002\u914D\u8D77\u6765\uFF0C\u4E0A\u9762\u8FD9\u4E2A\u6587\u6863\u662F\u57280.8.6\u7248\u672C\uFF0C\u4E5F\u5C31\u662F9\u6708\u4E0B\u65EC\u53D1\u5E03\u7684\u90A3\u4E2A\u7248\u672C\u4EE3\u7801\u524D\u8BBE\u8BA1\u7684\uFF0C\u73B0\u5728\u7684\u8BDD\u5927\u4F53\u601D\u8DEF\u4E00\u81F4\uFF0C\u5982\u679C\u9700\u8981\u5B9E\u73B0k3s\u7684\u8BDD\uFF0C\u9996\u5148\u9700\u8981\u719F\u8BFBk3s\u7684\u5B98\u65B9\u5B89\u88C5\u6587\u6863\uFF0C\u5176\u6B21\u9605\u8BFB<code>sealer runtime</code>\u7684\u63A5\u53E3\u903B\u8F91\uFF0C<code>install/scaleup</code>\u7B49\u63A5\u53E3\u5E72\u4E9B\u4EC0\u4E48\u4E8B\u513F\u3002\u6700\u540E\u8FD8\u9700\u8981\u770B\u4E00\u4E0B\u5982\u4F55\u4E0E<code>rootfs</code>\u8FDB\u884C\u4EA4\u4E92\uFF0C\u4E5F\u5C31\u662F\u96C6\u7FA4\u955C\u50CF\u90A3\u4E2A\u90E8\u5206\u3002</p><p>\u5207\u6362\u52309\u670830\u53F7\u7684\u90A3\u6B21<code>starcomingup</code>\u7684\u63D0\u4EA4\uFF0C\u57FA\u4E8E\u90A3\u6B21<code>commit</code>\u8FDB\u884C\u7F16\u8BD1\uFF0Ck0s\u955C\u50CF\u7684\u8BDD\u53EF\u4EE5\u4F53\u9A8C\u4E00\u4E0B\u3002</p><ul><li>scaledown \u4F5C\u7528\u4E8E master \u8282\u70B9\uFF0C\u5220\u9664master\u8282\u70B9\u524D\u9700\u8981\u5148\u5220\u9664master\u8282\u70B9\u4E0A\u7684pod</li></ul></blockquote><p><strong>install \u6A21\u5757\u548C k3s \u7684\u7ED3\u5408\uFF1A</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">/*
Install a new cluster.

:param infra: \u57FA\u7840\u7ED3\u6784\u5BF9\u8C61\u3002
:param kubeadmConfig: The kubeadm configuration.
:param masters: The list of master IPs.
:param workers: The list of worker IPs.
:returns: None
:raises: None
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><em>infradriver</em>:</strong></p><blockquote><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// infracontrol\u5C06\u6574\u4E2A\u96C6\u7FA4\u89C6\u4E3A\u4E00\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838\uFF0C</span>
<span class="token comment">// \u8FD9\u91CC\u7684interface\u51FD\u6570\u662F\u76EE\u6807\u7CFB\u7EDF\u8C03\u7528\u3002</span>
<span class="token keyword">type</span> InfraDriver <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">GetHostIPList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>IP

	<span class="token function">GetHostIPListByRole</span><span class="token punctuation">(</span>role <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>IP
	<span class="token comment">//\u83B7\u53D6\u6307\u5B9A\u89D2\u8272\u7684ip\u5217\u8868\uFF0C\u6BD4\u5982master\uFF0Cnode\uFF0C</span>
    
	<span class="token function">GetHostsPlatform</span><span class="token punctuation">(</span>hosts <span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>v1<span class="token punctuation">.</span>Platform<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>

	<span class="token comment">//GetHostEnv return merged env with host env and cluster env.</span>
	<span class="token function">GetHostEnv</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token comment">//GetClusterEnv return cluster.spec.env as map[string]interface{}</span>
	<span class="token function">GetClusterEnv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token comment">//GetClusterName \${clusterName}</span>
	<span class="token function">GetClusterName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>

	<span class="token comment">//GetClusterImageName \${cluster image Name}</span>
	<span class="token function">GetClusterImageName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>

	<span class="token comment">//GetClusterLaunchCmds \${user-defined launch command}</span>
	<span class="token function">GetClusterLaunchCmds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>

	<span class="token comment">//GetClusterRootfsPath /var/lib/sealer/data/\${clusterName}/rootfs</span>
	<span class="token function">GetClusterRootfsPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>

	<span class="token comment">// GetClusterBasePath /var/lib/sealer/data/\${clusterName}</span>
	<span class="token function">GetClusterBasePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>

	<span class="token comment">// Execute use eg.Go to execute shell cmd concurrently</span>
	<span class="token function">Execute</span><span class="token punctuation">(</span>hosts <span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> f <span class="token keyword">func</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token builtin">error</span>

	<span class="token comment">// Copy local files to remote host</span>
	<span class="token comment">// scp -r /tmp root@192.168.0.2:/root/tmp =&gt; Copy(&quot;192.168.0.2&quot;,&quot;tmp&quot;,&quot;/root/tmp&quot;)</span>
	<span class="token comment">// need check md5sum</span>
	<span class="token function">Copy</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> localFilePath<span class="token punctuation">,</span> remoteFilePath <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
	<span class="token comment">// CopyR copy remote host files to localhost</span>
	<span class="token function">CopyR</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> remoteFilePath<span class="token punctuation">,</span> localFilePath <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
	<span class="token comment">// CmdAsync exec command on remote host, and asynchronous return logs</span>
	<span class="token function">CmdAsync</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> cmd <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>
	<span class="token comment">// Cmd exec command on remote host, and return combined standard output and standard error</span>
	<span class="token function">Cmd</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> cmd <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
	<span class="token comment">// CmdToString exec command on remote host, and return spilt standard output and standard error</span>
	<span class="token function">CmdToString</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> cmd<span class="token punctuation">,</span> spilt <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>

	<span class="token comment">// IsFileExist check remote file exist or not</span>
	<span class="token function">IsFileExist</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> remoteFilePath <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
	<span class="token comment">// IsDirExist Remote file existence returns true, nil</span>
	<span class="token function">IsDirExist</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> remoteDirPath <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>

	<span class="token comment">// GetPlatform Get remote platform</span>
	<span class="token function">GetPlatform</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token punctuation">(</span>v1<span class="token punctuation">.</span>Platform<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>

	<span class="token function">GetHostName</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span>
	<span class="token comment">// Ping Ping remote host</span>
	<span class="token function">Ping</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token builtin">error</span>
	<span class="token comment">// SetHostName add or update host name on host</span>
	<span class="token function">SetHostName</span><span class="token punctuation">(</span>host net<span class="token punctuation">.</span>IP<span class="token punctuation">,</span> hostName <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span>

	<span class="token comment">//SetClusterHostAliases set additional HostAliases</span>
	<span class="token function">SetClusterHostAliases</span><span class="token punctuation">(</span>hosts <span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token builtin">error</span>

	<span class="token comment">//DeleteClusterHostAliases delete additional HostAliases</span>
	<span class="token function">DeleteClusterHostAliases</span><span class="token punctuation">(</span>hosts <span class="token punctuation">[</span><span class="token punctuation">]</span>net<span class="token punctuation">.</span>IP<span class="token punctuation">)</span> <span class="token builtin">error</span>

	<span class="token comment">// SetLvsRule add or update host name on host</span>
	<span class="token comment">//SetLvsRule(host net.IP, hostName string) error</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><blockquote><p>\u5B9A\u4E49\u4E86\u4E00\u4E2A\u540D\u4E3A<code>Infracontrol</code>\u7684\u63A5\u53E3\uFF0C\u8BE5\u63A5\u53E3\u5305\u542B\u4E86\u4E00\u7CFB\u5217\u51FD\u6570\uFF0C\u8FD9\u4E9B\u51FD\u6570\u7528\u4E8E\u5B9E\u73B0\u5BF9\u6574\u4E2A\u96C6\u7FA4\u7684\u63A7\u5236\u3002\u5177\u4F53\u800C\u8A00\uFF0C\u5B83\u63D0\u4F9B\u4E86\u4E00\u4E9B\u51FD\u6570\uFF0C\u7528\u4E8E\u83B7\u53D6\u96C6\u7FA4\u4E2D\u4E3B\u673A\u7684 IP \u5217\u8868\uFF0C\u83B7\u53D6\u6307\u5B9A\u89D2\u8272\u7684 IP \u5217\u8868\uFF0C\u83B7\u53D6\u4E3B\u673A\u73AF\u5883\u53D8\u91CF\uFF0C\u83B7\u53D6\u96C6\u7FA4\u540D\u79F0\u548C\u955C\u50CF\u540D\u79F0\uFF0C\u8FD8\u63D0\u4F9B\u4E86\u4E00\u4E9B\u51FD\u6570\u7528\u4E8E\u6267\u884C\u547D\u4EE4\uFF0C\u68C0\u67E5\u6587\u4EF6\u548C\u76EE\u5F55\u662F\u5426\u5B58\u5728\uFF0C\u83B7\u53D6\u8FDC\u7A0B\u4E3B\u673A\u7684\u5E73\u53F0\uFF0C\u83B7\u53D6\u4E3B\u673A\u540D\u79F0\uFF0C\u4EE5\u53CA\u4E00\u4E9B\u5176\u4ED6\u529F\u80FD\u3002\u8FD9\u4E9B\u51FD\u6570\u53EF\u4EE5\u7528\u6765\u64CD\u4F5C\u6574\u4E2A\u96C6\u7FA4\uFF0C\u4ECE\u800C\u5B9E\u73B0\u5BF9\u96C6\u7FA4\u7684\u63A7\u5236\u3002</p></blockquote><div class="custom-container tip"><p class="custom-container-title">\u5B57\u6BB5\u{1F4DC} \u5BF9\u4E0A\u9762\u7684\u89E3\u91CA</p><ul><li><code>GetHostIPList</code>\u51FD\u6570\u7528\u4E8E\u83B7\u53D6\u96C6\u7FA4\u4E2D\u4E3B\u673A\u7684 IP \u5217\u8868\u3002</li><li><code>GetHostIPListByRole</code>\u51FD\u6570\u7528\u4E8E\u83B7\u53D6\u6307\u5B9A\u89D2\u8272\u7684 IP \u5217\u8868\uFF0C\u6BD4\u5982<code>master</code>\u6216<code>node</code>\u3002</li><li><code>GetHostsPlatform</code>\u51FD\u6570\u7528\u4E8E\u83B7\u53D6\u4E3B\u673A\u7684\u5E73\u53F0\u4FE1\u606F\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u6620\u5C04\uFF0C\u5176\u4E2D\u952E\u8868\u793A\u5E73\u53F0\u4FE1\u606F\uFF0C\u503C\u8868\u793A\u4E0E\u8BE5\u5E73\u53F0\u5BF9\u5E94\u7684 IP \u5217\u8868\u3002</li><li><code>GetHostEnv</code>\u51FD\u6570\u7528\u4E8E\u83B7\u53D6\u4E3B\u673A\u7684\u73AF\u5883\u53D8\u91CF\uFF0C\u5E76\u8FD4\u56DE\u4E00\u4E2A\u6620\u5C04\uFF0C\u5176\u4E2D\u952E\u8868\u793A\u53D8\u91CF\u540D\u79F0\uFF0C\u503C\u8868\u793A\u53D8\u91CF\u503C\u3002</li></ul></div><h2 id="runtime-types" tabindex="-1"><a class="header-anchor" href="#runtime-types" aria-hidden="true">#</a> runtime/types</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>// Metadata use <span class="token function">file</span> Metadata <span class="token keyword">in</span> rootfs to <span class="token builtin class-name">help</span> cluster install.
<span class="token builtin class-name">type</span> Metadata struct <span class="token punctuation">{</span>
	Version string <span class="token variable"><span class="token variable">\`</span>json:<span class="token string">&quot;version&quot;</span><span class="token variable">\`</span></span>
	Arch    string <span class="token variable"><span class="token variable">\`</span>json:<span class="token string">&quot;arch&quot;</span><span class="token variable">\`</span></span>
	Variant string <span class="token variable"><span class="token variable">\`</span>json:<span class="token string">&quot;variant&quot;</span><span class="token variable">\`</span></span>
	// KubeVersion is a SemVer constraint specifying the version of Kubernetes required.
	KubeVersion string <span class="token variable"><span class="token variable">\`</span>json:<span class="token string">&quot;kubeVersion&quot;</span><span class="token variable">\`</span></span>
	NydusFlag   bool   <span class="token variable"><span class="token variable">\`</span>json:<span class="token string">&quot;NydusFlag&quot;</span><span class="token variable">\`</span></span>
	// ClusterRuntime is a flag to distinguish the runtime <span class="token keyword">for</span> k0s\u3001k8s\u3001k3s
	ClusterRuntime ClusterRuntime <span class="token variable"><span class="token variable">\`</span>json:<span class="token string">&quot;ClusterRuntime&quot;</span><span class="token variable">\`</span></span>
<span class="token punctuation">}</span>

<span class="token builtin class-name">type</span> ClusterRuntime string

const <span class="token punctuation">(</span>
	K0s ClusterRuntime <span class="token operator">=</span> <span class="token string">&quot;k0s&quot;</span>
	K3s ClusterRuntime <span class="token operator">=</span> <span class="token string">&quot;k3s&quot;</span>
	K8s ClusterRuntime <span class="token operator">=</span> <span class="token string">&quot;k8s&quot;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>metadata:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1evo5cnwagauz3w188Z rootfs<span class="token punctuation">]</span><span class="token comment"># pwd;cat Metadata </span>
/var/lib/sealer/data/my-cluster/rootfs
<span class="token punctuation">{</span>
  <span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;v1.19.8&quot;</span>,
  <span class="token string">&quot;arch&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;amd64&quot;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rootfs-module" tabindex="-1"><a class="header-anchor" href="#rootfs-module" aria-hidden="true">#</a> rootfs module</h2><p><strong>interface\uFF1A</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Manager <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> App   <span class="token comment">// App returns the application manager.</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> App <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">Root</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>  <span class="token comment">// Root returns the root path of the application.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="data" tabindex="-1"><a class="header-anchor" href="#data" aria-hidden="true">#</a> data</h2><p><img src="http://sm.nsddd.top/smetcd&amp;sqlite" alt="\u5728\u8FD9\u91CC\u63D2\u5165\u56FE\u7247\u63CF\u8FF0"></p><blockquote><p>\u{1F4DC} \u5BF9\u4E0A\u9762\u7684\u89E3\u91CA\uFF1A</p><p>etcd &amp; DQLite \u4F7F\u7528\u7684\u90FD\u662F raft \u5171\u8BC6\u7B97\u6CD5\u3002</p></blockquote>`,34),T={class:"custom-container tip"},U=s("p",{class:"custom-container-title"},"\u63D0\u793A",-1),Y=s("p",null,"\u6211\u9700\u8981\u6CE8\u610F\u7684\u6A21\u5757\uFF1A",-1),Z=s("li",null,"apply/driver/",-1),W=s("li",null,"apply/processor/",-1),J={href:"https://github.com/sealerio/sealer/pull/1686/files#diff-ad043994ee0ef6e350ef3520fbab469423b41d1abb8cdb3527b230eb3416d4de",target:"_blank",rel:"noopener noreferrer"},Q=n("cmd/sealer/cmd/cluster"),X=s("li",null,"runtime",-1),ss=o('<h2 id="\u5B89\u88C5-\u653E\u5927-\u7F29\u5C0F-\u91CD\u7F6E-\u5347\u7EA7" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-\u653E\u5927-\u7F29\u5C0F-\u91CD\u7F6E-\u5347\u7EA7" aria-hidden="true">#</a> \u5B89\u88C5/\u653E\u5927/\u7F29\u5C0F/\u91CD\u7F6E/\u5347\u7EA7</h2><ul><li>\u5220\u9664\u6CE8\u518C\u8868\u4EA4\u4E92\u903B\u8F91</li><li>\u66F4\u6539\u4E3A <code>infra-driver</code> \u547D\u4EE4</li></ul><h2 id="\u66F4\u6539-basefs-\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#\u66F4\u6539-basefs-\u811A\u672C" aria-hidden="true">#</a> \u66F4\u6539 basefs \u811A\u672C</h2><ul><li>\u5BB9\u5668 <code>d.sh</code></li><li>\u6709\u4E9B\u4E1C\u897F\u9700\u8981\u9075\u5FAA <code>k8s</code> \u9886\u5148\u7684\u903B\u8F91</li></ul><h2 id="\u5165\u53E3\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u5165\u53E3\u51FD\u6570" aria-hidden="true">#</a> \u5165\u53E3\u51FD\u6570</h2><ul><li><code>ChooseClusterRuntime()</code>\uFF1A\u4F7F\u7528 <code>Metadata</code> \u6765\u533A\u5206\u96C6\u7FA4 <code>Runtime</code>\uFF0C\u9700\u8981\u6DFB\u52A0\u4E00\u4E2A\u5B57\u6BB5\u6765\u533A\u5206k0s\u3001k3s\u3001k8s</li></ul><h3 id="\u9644\u52A0\u4E0A\u4E0B\u6587" tabindex="-1"><a class="header-anchor" href="#\u9644\u52A0\u4E0A\u4E0B\u6587" aria-hidden="true">#</a> \u9644\u52A0\u4E0A\u4E0B\u6587</h3><p>\u5728\u6B64\u5904\u6DFB\u52A0\u6709\u5173\u529F\u80FD\u8BF7\u6C42\u7684\u4EFB\u4F55\u5176\u4ED6\u4E0A\u4E0B\u6587\u6216\u5C4F\u5E55\u622A\u56FE\u3002</p><h3 id="sealos-\u4E3B\u8BAE\u9898" tabindex="-1"><a class="header-anchor" href="#sealos-\u4E3B\u8BAE\u9898" aria-hidden="true">#</a> sealos \u4E3B\u8BAE\u9898</h3>',9),ns={href:"https://github.com/sealerio/sealer/issues?q=is%3Aissue+is%3Aopen+k3s",target:"_blank",rel:"noopener noreferrer"},as=n("k3s \u6240\u6709\u8BAE\u9898"),es={href:"https://github.com/labring/sealos/issues/1943",target:"_blank",rel:"noopener noreferrer"},os=n("https://github.com/labring/sealos/issues/1943"),ts=s("li",null,[s("p",null,"https://github.com/sealerio/sealer/issues/1399")],-1),rs=o('<h3 id="\u7B56\u5212\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#\u7B56\u5212\u6587\u6863" aria-hidden="true">#</a> \u7B56\u5212\u6587\u6863</h3><ul><li>https://www.yuque.com/zhouxinyuan-6woia/nodno9/iswdqd</li></ul><h2 id="\u8BA1\u5212" tabindex="-1"><a class="header-anchor" href="#\u8BA1\u5212" aria-hidden="true">#</a> \u8BA1\u5212</h2><ul><li>[x] \u719F\u8BFBk3s\u5B98\u65B9\u6587\u6863</li><li>[x] \u719F\u6089 k3s \u7684\u5B89\u88C5\u811A\u672C</li><li>[x] \u9605\u8BFB sealer runtime \u7684\u63A5\u53E3\u903B\u8F91 install / scaleup \u63A5\u53E3</li><li>[x] \u5982\u4F55\u548C rootfs \u4EA4\u4E92</li></ul><h2 id="issues" tabindex="-1"><a class="header-anchor" href="#issues" aria-hidden="true">#</a> issues</h2>',5),ls=n("\u6211\u4EEC\u5728\u8DEF\u7EBF\u56FE\u4E2D\u5BF9 k8s\u3001k0s\u3001k3s \u8FD0\u884C\u65F6\u652F\u6301\u7684\u5DE5\u4F5C\u5E94\u8BE5\u6709\u4E00\u4E2A\u8FDB\u5EA6\u8BB0\u5F55\uFF0C\u5E94\u8BE5\u662F\u8BA9\u5DE5\u4F5C\u8FDB\u5EA6\u66F4\u52A0\u6E05\u6670\uFF0C\u5E76\u5438\u5F15\u66F4\u591A\u7684\u53C2\u4E0E\u8005\u52A0\u5165\u8FD9\u4E2A\u6838\u5FC3\u5DE5\u4F5C\u3002\u8FD9\u91CC\u7B80\u5355\u4ECB\u7ECD\u4E00\u4E0B\u90E8\u5206\u5DE5\u4F5C\uFF1A \u9605\u8BFBSealer\u4E3B\u5206\u652F\u4EE3\u7801\uFF0C\u7406\u89E3 "),ps=s("code",null,"runtime",-1),cs=n(" \u6A21\u5757\u4E2D\u7684\u4EE3\u7801\uFF0C\u638C\u63E1\u4ECE cmd \u6A21\u5757\u5230 runtime \u6A21\u5757\u7684\u4EE3\u7801\u8C03\u7528\u903B\u8F91\u3002 \u901A\u8FC7k8s\u3001k0s\u3001k3s\u5B98\u7F51\u9605\u8BFB\u5E76\u8BBE\u8BA1\u8FD0\u884C\u65F6\u63A5\u53E3\u5B9E\u73B0\u65B9\u6CD5\u3002 \u4E3A\u6307\u5B9A\u7684\u8FD0\u884C\u65F6\u8BFB\u53D6\u548C\u8BBE\u8BA1 clusterImage\u3002\u4E3B\u8981\u53C2\u8003\uFF1A "),is={href:"http://sealer.cool/docs/advanced/define-cloudimage.html#customize-the-cloudrootfs",target:"_blank",rel:"noopener noreferrer"},us=n("ClusterImage"),ds=n("\u3001"),bs={href:"https://github.com/sealerio/basefs",target:"_blank",rel:"noopener noreferrer"},ms=n("basefs"),ks=n("\u3002 \u7C7B\u578B\uFF1A"),vs=s("em",null,"\u529F\u80FD\u8BF7\u6C42",-1),xs={href:"https://github.com/sealerio/sealer/pull/1686",target:"_blank",rel:"noopener noreferrer"},ws=n("k0s \u8DDF\u8FDB\u6587\u6863"),gs={href:"https://github.com/sealerio/sealer/pull/1686/files",target:"_blank",rel:"noopener noreferrer"},hs=n("1686\u8BAE\u9898\u8DDF\u8FDB\u4EE3\u7801"),fs=o(`<h3 id="cluster-1" tabindex="-1"><a class="header-anchor" href="#cluster-1" aria-hidden="true">#</a> cluster</h3><p><code>cluster.go</code> \u63CF\u8FF0\u6574\u4E2A\u96C6\u7FA4\u671F\u671B\u72B6\u6001 -- \u51E0\u4E2A<code>master</code>\uFF0C\u51E0\u4E2A<code>node</code>\uFF0C<code>ssh</code>\u5BC6\u7801\u3001\u7AEF\u53E3\u53F7\u3001\u96C6\u7FA4\u955C\u50CF\u3001\u8D2F\u7A7F\u59CB\u7EC8\uFF0C\u7279\u522B\u7279\u522B\u91CD\u8981 -- <code>sealos run</code> \u4E5F\u662F\u6E32\u67D3\u6210\u7ED3\u6784\u4F53\u4F20\u9012\u7ED9\u5176\u4ED6\u6A21\u5757~</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>---
apply.go
cert.go
cluster.go
delete.go
join.go
run-app.go
run.go
scale-up.go
---
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="k0s-runtime-design-readme" tabindex="-1"><a class="header-anchor" href="#k0s-runtime-design-readme" aria-hidden="true">#</a> k0s runtime design readme</h2><details class="custom-container details"><summary>install.sh</summary><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#$ curl https://get.k0s.sh/</span>
<span class="token comment">#!/bin/sh</span>

<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">\${DEBUG}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">set</span> <span class="token parameter variable">-x</span>
<span class="token keyword">fi</span>

<span class="token function-name function">_k0s_latest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">curl</span> <span class="token parameter variable">-sSLf</span> <span class="token string">&quot;https://docs.k0sproject.io/stable.txt&quot;</span>
<span class="token punctuation">}</span>

<span class="token function-name function">_detect_binary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token assign-left variable">os</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span><span class="token variable">)</span></span>&quot;</span>
  <span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token keyword">in</span>
    Linux<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;k0s&quot;</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Unsupported operating system: <span class="token variable">$os</span>&quot;</span> <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token file-descriptor important">&amp;2</span><span class="token punctuation">;</span> <span class="token builtin class-name">return</span> <span class="token number">1</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token keyword">esac</span>
  <span class="token builtin class-name">unset</span> os
<span class="token punctuation">}</span>

<span class="token function-name function">_detect_arch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token assign-left variable">arch</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">)</span></span>&quot;</span>
  <span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$arch</span>&quot;</span> <span class="token keyword">in</span>
    amd64<span class="token operator">|</span>x86_64<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;amd64&quot;</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
    arm64<span class="token operator">|</span>aarch64<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;arm64&quot;</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
    armv7l<span class="token operator">|</span>armv8l<span class="token operator">|</span>arm<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;arm&quot;</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Unsupported processor architecture: <span class="token variable">$arch</span>&quot;</span> <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token file-descriptor important">&amp;2</span><span class="token punctuation">;</span> <span class="token builtin class-name">return</span> <span class="token number">1</span> <span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token keyword">esac</span>
  <span class="token builtin class-name">unset</span> arch
<span class="token punctuation">}</span>

<span class="token function-name function">_download_url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;https://ghproxy.com/https://github.com/k0sproject/k0s/releases/download/<span class="token variable">$K0S_VERSION</span>/<span class="token variable">$k0sBinary</span>-<span class="token variable">$K0S_VERSION</span>-<span class="token variable">$k0sArch</span>&quot;</span>
<span class="token punctuation">}</span>

<span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">\${K0S_VERSION}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable">K0S_VERSION</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>_k0s_latest<span class="token variable">)</span></span>
  <span class="token keyword">fi</span>

  <span class="token assign-left variable">k0sInstallPath</span><span class="token operator">=</span>/usr/local/bin
  <span class="token assign-left variable">k0sBinary</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>_detect_binary<span class="token variable">)</span></span>&quot;</span>
  <span class="token assign-left variable">k0sArch</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>_detect_arch<span class="token variable">)</span></span>&quot;</span>
  <span class="token assign-left variable">k0sDownloadUrl</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span>_download_url<span class="token variable">)</span></span>&quot;</span>

  <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> -- <span class="token string">&quot;<span class="token variable">$k0sInstallPath</span>&quot;</span>

  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Downloading k0s from URL: <span class="token variable">$k0sDownloadUrl</span>&quot;</span>

  <span class="token function">curl</span> <span class="token parameter variable">-sSLf</span> <span class="token string">&quot;<span class="token variable">$k0sDownloadUrl</span>&quot;</span> <span class="token operator">&gt;</span><span class="token string">&quot;<span class="token variable">$k0sInstallPath</span>/<span class="token variable">$k0sBinary</span>&quot;</span>
  <span class="token function">chmod</span> <span class="token number">755</span> -- <span class="token string">&quot;<span class="token variable">$k0sInstallPath</span>/<span class="token variable">$k0sBinary</span>&quot;</span>

  <span class="token builtin class-name">echo</span> <span class="token string">&quot;k0s is now executable in <span class="token variable">$k0sInstallPath</span>&quot;</span>
<span class="token punctuation">}</span>

main

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p><strong>about k0s runtime readme\uFF1A</strong></p><ul><li>https://github.com/sealerio/sealer/blob/main/pkg/runtime/k0s/README.md</li></ul><h3 id="basics-directory-structure" tabindex="-1"><a class="header-anchor" href="#basics-directory-structure" aria-hidden="true">#</a> basics directory structure</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\u251C\u2500\u2500 amd64
\u2502   \u251C\u2500\u2500 bin
\u2502   \u2502   \u251C\u2500\u2500 k0s
\u2502   \u2502   \u251C\u2500\u2500 kubectl
\u2502   \u2502   \u251C\u2500\u2500 nerdctl
\u2502   \u2502   \u2514\u2500\u2500 seautil
\u2502   \u251C\u2500\u2500 images
\u2502   \u2502   \u2514\u2500\u2500 registry.tar.gz
\u2502   \u2514\u2500\u2500 Metadata
\u251C\u2500\u2500 imageList
\u251C\u2500\u2500 Kubefile
\u2514\u2500\u2500 rootfs
    \u251C\u2500\u2500 etc
    \u2502   \u251C\u2500\u2500 dump-config.toml
    \u2502   \u2514\u2500\u2500 registry.yml
    \u2514\u2500\u2500 scripts
        \u251C\u2500\u2500 containerd.sh
        \u251C\u2500\u2500 init-registry.sh
        \u2514\u2500\u2500 init.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u91CD\u6784\u76F8\u5BF9\u8FD0\u884C\u65F6\u7684\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#\u91CD\u6784\u76F8\u5BF9\u8FD0\u884C\u65F6\u7684\u5217\u8868" aria-hidden="true">#</a> \u91CD\u6784\u76F8\u5BF9\u8FD0\u884C\u65F6\u7684\u5217\u8868</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>runtime
\u251C\u2500\u2500 interface.go <span class="token comment"># runtime interface</span>
\u2514\u2500\u2500 kubernets
    \u251C\u2500\u2500 join_masters.go     <span class="token comment"># add master nodes/controlplanes</span>
    \u251C\u2500\u2500 join_worker.go      <span class="token comment"># add worker nodes</span>
    \u251C\u2500\u2500 common.go           <span class="token comment"># Enum relative Kubeadm</span>
    \u251C\u2500\u2500 init.go             <span class="token comment"># create cluster</span>
    \u251C\u2500\u2500 delete_masters.go   <span class="token comment"># delete master nodes/controlplanes</span>
    \u251C\u2500\u2500 delete_nodes.go     <span class="token comment"># delete worker nodes</span>
    \u251C\u2500\u2500 kubeadm_runtime.go  <span class="token comment"># runtime implement</span>
    \u251C\u2500\u2500 kubeadm_type        <span class="token comment"># kubeadm version type</span>
    \u2502   \u2514\u2500\u2500 v1beta1
    \u2502       \u2514\u2500\u2500 type.go
    \u251C\u2500\u2500 registry_service.go  <span class="token comment"># get and set some registry info</span>
    \u251C\u2500\u2500 reset.go             <span class="token comment"># reset a kubernetes cluster</span>
    \u251C\u2500\u2500 static_file.go       <span class="token comment"># AuditPolicyYml type</span>
    \u251C\u2500\u2500 update_cert.go       <span class="token comment"># update certs about kubernetes</span>
    \u2514\u2500\u2500 util.go              <span class="token comment"># util of kubernetes runtime</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cloud\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#cloud\u955C\u50CF" aria-hidden="true">#</a> cloud\u955C\u50CF</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>COPY rootfs/* <span class="token builtin class-name">.</span>
COPY <span class="token variable">\${ARCH}</span> <span class="token builtin class-name">.</span>
COPY ImageList manifests
BASE rootfs cache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u76EE\u5F55\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u76EE\u5F55\u8BBE\u8BA1" aria-hidden="true">#</a> \u76EE\u5F55\u8BBE\u8BA1</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\u251C\u2500\u2500 bin
\u2502   \u251C\u2500\u2500 conntrack
\u2502   \u251C\u2500\u2500 containerd-rootless-setuptool.sh
\u2502   \u251C\u2500\u2500 containerd-rootless.sh
\u2502   \u251C\u2500\u2500 crictl
\u2502   \u251C\u2500\u2500 k0s
\u2502   \u251C\u2500\u2500 kubectl
\u2502   \u251C\u2500\u2500 <span class="token punctuation">..</span>.
\u2502   \u2514\u2500\u2500 seautil
\u251C\u2500\u2500 etc
\u2502   \u251C\u2500\u2500 admin.conf
\u2502   \u251C\u2500\u2500 Clusterfile  <span class="token comment"># \u955C\u50CF\u9ED8\u8BA4\u96C6\u7FA4\u6587\u4EF6</span>
\u2502   \u251C\u2500\u2500 daemon.json <span class="token comment"># docker \u5B88\u62A4\u8FDB\u7A0B\u914D\u7F6E\u6587\u4EF6\u3002</span>
\u2502   \u251C\u2500\u2500 docker.service
\u2502   \u251C\u2500\u2500 k0s.yaml <span class="token comment"># k0s config</span>
\u2502   \u251C\u2500\u2500 kubelet.service
\u2502   \u2514\u2500\u2500 registry.yml <span class="token comment"># \u5982\u679C\u7528\u6237\u60F3\u81EA\u5B9A\u4E49\u7528\u6237\u540D\u548C\u5BC6\u7801\uFF0C\u53EF\u4EE5\u8986\u76D6\u8FD9\u4E2A\u6587\u4EF6\u3002</span>
\u251C\u2500\u2500 images
\u2502   \u2514\u2500\u2500 registry.tar  <span class="token comment"># \u6CE8\u518Cdocker\u955C\u50CF\uFF0C\u5C06\u52A0\u8F7D\u6B64\u955C\u50CF\u5E76\u5728\u96C6\u7FA4\u4E2D\u8FD0\u884C\u672C\u5730\u6CE8\u518C\u8868</span>
\u251C\u2500\u2500 Metadata
\u251C\u2500\u2500 registry <span class="token comment">#\u662F\u5426\u5C06\u6B64\u76EE\u5F55\u6302\u8F7D\u5230\u672C\u5730\u6CE8\u518C\u8868</span>
\u2502   \u2514\u2500\u2500 <span class="token function">docker</span>
\u2502       \u2514\u2500\u2500 registry
\u251C\u2500\u2500 scripts
\u2502   \u251C\u2500\u2500 script-wait-for-develop
\u2514\u2500\u2500 statics <span class="token comment"># yaml\u6587\u4EF6, sealer \u5C06\u6E32\u67D3\u8FD9\u4E9B\u6587\u4EF6\u4E2D\u7684\u503C</span>
    \u2514\u2500\u2500 audit-policy.yml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="clusterfile-\u548C-kubeadmconfig" tabindex="-1"><a class="header-anchor" href="#clusterfile-\u548C-kubeadmconfig" aria-hidden="true">#</a> Clusterfile \u548C KubeadmConfig</h3><p>KubeadmConfig \u6839\u636E\u96C6\u7FA4\u6587\u4EF6\u751F\u6210\uFF0C\u5982\u4F55\u4ECE\u96C6\u7FA4\u6587\u4EF6\u4E2D\u52A0\u8F7D\uFF1A</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// LoadFromClusterfile: Load KubeadmConfig from Clusterfile.</span>
<span class="token comment">// If it has \`KubeadmConfig\` in Clusterfile, load every field to each configuration.</span>
<span class="token comment">// If Kubeadm raw config in Clusterfile, just load it.</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>k <span class="token operator">*</span>KubeadmConfig<span class="token punctuation">)</span> <span class="token function">LoadFromClusterfile</span><span class="token punctuation">(</span>kubeadmConfig KubeadmConfig<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	k<span class="token punctuation">.</span>APIServer<span class="token punctuation">.</span>CertSANs <span class="token operator">=</span> strUtils<span class="token punctuation">.</span><span class="token function">RemoveDuplicate</span><span class="token punctuation">(</span><span class="token function">append</span><span class="token punctuation">(</span>k<span class="token punctuation">.</span>APIServer<span class="token punctuation">.</span>CertSANs<span class="token punctuation">,</span> kubeadmConfig<span class="token punctuation">.</span>APIServer<span class="token punctuation">.</span>CertSANs<span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> mergo<span class="token punctuation">.</span><span class="token function">Merge</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> kubeadmConfig<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u4ECB\u7ECD" aria-hidden="true">#</a> \u4ECB\u7ECD</h3><p>\u6211\u4EEC\u5B9A\u4E49 k0s \u8FD0\u884C\u65F6\u6709 5 \u4E2A\u9636\u6BB5\u6765\u5B89\u88C5/\u6269\u5C55/\u91CD\u7F6E\u96C6\u7FA4\u3002</p>`,20),ys=n("basefs \u5305\u542B\u4E8C\u8FDB\u5236\u3001shell \u811A\u672C\u3001\u914D\u7F6E\u6587\u4EF6\u548C\u955C\u50CF\u3002\u4E86\u89E3\u6709\u5173"),Ns={href:"https://github.com/sealerio/basefs",target:"_blank",rel:"noopener noreferrer"},_s=n("sealerio/basefs \u7684\u66F4\u591A\u4FE1\u606F"),qs={href:"https://github.com/k0sproject/k0s",target:"_blank",rel:"noopener noreferrer"},Cs=n("\u901A\u8FC7\u6267\u884Ck0s"),Ps=n(" \u547D\u4EE4\u5B89\u88C5\u6587\u4EF6\u7CFB\u7EDF\u5F15\u5BFC\u96C6\u7FA4\u4E4B\u524D\u7684\u8FD0\u884C\u65F6\u3002"),Is=o(`<ul><li>init <ul><li>\u5F53 sealer \u5BFC\u81F4\u5148\u5B89\u88C5\u96C6\u7FA4\u65F6\uFF0C<code>init</code> \u9636\u6BB5\u5C06 <code>rootfs/bin</code> \u590D\u5236\u5230 <code>init.sh</code> \u811A\u672C\u4E2D\u7684 <code>/usr/bin</code></li><li>\u521B\u5EFA\u5F15\u5BFC\u914D\u7F6E <code>/etc/k0s/k0s.yaml</code> \u4EE5\u5F15\u5BFC\u63A7\u5236\u5668\u521D\u59CB\u5316</li><li>\u751F\u6210 <code>k0s</code> \u52A0\u5165\u4EE4\u724C <code>/etc/k0s/worker-token</code> \u548C <code>/etc/k0s/controller-token</code>\uFF0C\u4E5F\u662F\u79C1\u6709\u6CE8\u518C\u8868\u8BC1\u4E66</li><li>\u521D\u59CB\u5316\u63A7\u5236\u5668\u8282\u70B9</li><li>\u83B7\u53D6 <code>~/.kube/config</code> \u7684\u914D\u7F6E\u4EE5\u7BA1\u7406\u96C6\u7FA4\u3002</li></ul></li><li>join <ul><li>\u52A0\u5165\u9636\u6BB5\u51C6\u5907\u6CE8\u518C\u8868\u8BC1\u4E66\uFF0C\u5E76\u7528\u4E8E <code>k0s join</code> \u6269\u5C55\u96C6\u7FA4\u3002</li></ul></li><li>delete <ul><li>\u5220\u9664\u4E0E\u52A0\u5165\u76F8\u540C\uFF0C\u4F46\u5B83\u56DE\u6536\u52A0\u5165\u9636\u6BB5\u5B89\u88C5\u7684\u4EFB\u4F55\u5185\u5BB9\u3002</li></ul></li><li>reset <ul><li>\u901A\u8FC7 <code>k0s</code> \u91CD\u7F6E\u4EE5\u79FB\u9664\u8BE5\u96C6\u7FA4\u5E76\u79FB\u9664\u7531 <code>sealer</code> \u751F\u6210\u7684\u96C6\u7FA4\u7684\u4EFB\u4F55\u76F8\u5173\u5185\u5BB9\u3002</li></ul></li><li>Upgrade <ul><li><code>upgrade</code> \u53EF\u4EE5\u5347\u7EA7 <code>k0s</code> \u96C6\u7FA4\u3002</li></ul></li></ul><h2 id="\u8868\u683C-cn" tabindex="-1"><a class="header-anchor" href="#\u8868\u683C-cn" aria-hidden="true">#</a> \u8868\u683C\uFF08CN\uFF09</h2><p><img src="http://sm.nsddd.top/smimage-20221113000126421.png" alt="image-20221113000126421"></p><h2 id="code-runtime-module" tabindex="-1"><a class="header-anchor" href="#code-runtime-module" aria-hidden="true">#</a> code runtime module</h2><p><strong>util.go\uFF1A</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">/*
Loads the metadata file from the given rootfs.
\u4ECE\u7ED9\u5B9A\u7684rootfs\u52A0\u8F7D\u5143\u6570\u636E\u6587\u4EF6\u3002

Args:
	rootfs: The rootfs path.

Returns:
	The metadata object.
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>metaverse \u5143\u5B87\u5B99</li><li>metadata \u5143\u6570\u636E</li></ul><div class="custom-container warning"><p class="custom-container-title">what is metadata</p><p>\u63CF\u8FF0\u6570\u636E\u7684\u6570\u636E\uFF0C\u5B83\u662F\u6570\u636E\u7684\u63CF\u8FF0\u548C\u4E0A\u4E0B\u6587\u3002\u6709\u52A9\u4E8E\u7EC4\u7EC7\u3001\u53D1\u73B0\u548C\u7406\u89E3\u6570\u636E\u3002</p><ul><li>\u4E1A\u52A1 metadata</li><li>\u64CD\u4F5C metadata <ul><li>\u6570\u636E\u6240\u6709\u8005\u3001\u4F7F\u7528\u8005</li><li>\u6570\u636E\u7684\u8BBF\u95EE\u65B9\u5F0F\u3001\u8BBF\u95EE\u65F6\u95F4\u3001\u8BBF\u95EE\u9650\u5236</li><li>\u6570\u636E\u7684\u8BBF\u95EE\u6743\u9650\u3001\u7EC4\u548C\u89D2\u8272\u7B49</li><li>\u6570\u636E\u5904\u7406\u4F5C\u4E1A\u7684\u7ED3\u679C\u3001\u7CFB\u7EDF\u6267\u884C\u65E5\u5FD7\u7B49\u7B49</li><li>\u6570\u636E\u5907\u4EFD\u3001\u5F52\u6863\u4EBA\u3001\u5F52\u6863\u65F6\u95F4\u7B49</li></ul></li></ul></div><h2 id="k3s-rootfs" tabindex="-1"><a class="header-anchor" href="#k3s-rootfs" aria-hidden="true">#</a> k3s rootfs</h2><details class="custom-container details"><p><strong>bin:</strong></p><p><strong>\u4E3B\u8981\u7684\u4E8C\u8FDB\u5236\uFF1A</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@ubuntu:/var/lib/rancher/k3s/data/2ef87ff954adbb390309ce4dc07500f29c319f84feec1719bfb5059c8808ec6a/bin<span class="token comment"># ls -al |grep &quot;^-&quot;</span>
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">268480</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> blkid
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">816728</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> busybox
-rwxr-xr-x <span class="token number">1</span> root root   <span class="token number">2874560</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> charon
-rwxr-xr-x <span class="token number">1</span> root root     <span class="token number">13476</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 check-config
-rwxr-xr-x <span class="token number">1</span> root root   <span class="token number">3158016</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 cni
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">186672</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> conntrack
-rwxr-xr-x <span class="token number">1</span> root root  <span class="token number">53494904</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 containerd
-rwxr-xr-x <span class="token number">1</span> root root   <span class="token number">9482240</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 containerd-shim-runc-v2
-rwxr-xr-x <span class="token number">1</span> root root   <span class="token number">1388752</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> coreutils
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">215000</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> <span class="token function">ethtool</span>
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">303088</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> <span class="token function">find</span>
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">444520</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> fuse-overlayfs
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">533648</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> <span class="token function">ip</span>
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">186432</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> ipset
-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">130760056</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 k3s
-rw-r--r-- <span class="token number">1</span> root root      <span class="token number">6046</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 .links
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">193952</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> losetup
-rwxr-xr-x <span class="token number">1</span> root root     <span class="token number">63040</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> nsenter
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">181944</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> pigz
-rwxr-xr-x <span class="token number">1</span> root root   <span class="token number">8887624</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 runc
-rw-r--r-- <span class="token number">1</span> root root      <span class="token number">2335</span> Oct <span class="token number">25</span> <span class="token number">12</span>:59 .sha256sums
-rwxr-xr-x <span class="token number">1</span> root root   <span class="token number">1129336</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> slirp4netns
-rwxr-xr-x <span class="token number">1</span> root root    <span class="token number">934304</span> Dec <span class="token number">18</span>  <span class="token number">2021</span> swanctl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5176\u4ED6\u7684\u94FE\u63A5\u6587\u4EF6\uFF1A</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@ubuntu:/var/lib/rancher/k3s/data/2ef87ff954adbb390309ce4dc07500f29c319f84feec1719bfb5059c8808ec6a/bin<span class="token comment"># ls -al  |grep &quot;^l&quot;</span>
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token punctuation">[</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token punctuation">[</span><span class="token punctuation">[</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 addgroup -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 adduser -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ar -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 arch -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 arp -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 arping -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ash -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">awk</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 b2sum -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 base32 -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 base64 -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">basename</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 basenc -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">bc</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 bridge -<span class="token operator">&gt;</span> cni
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 bunzip2 -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 bzcat -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">cat</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 chattr -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 chcon -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">chgrp</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">chmod</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">chown</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">chroot</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 chrt -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 chvt -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">cksum</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">clear</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">cmp</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">comm</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">cp</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 cpio -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 crictl -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 crond -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">crontab</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">csplit</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 ctr -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">cut</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">date</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">dc</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">dd</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 deallocvt -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 delgroup -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 deluser -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 devmem -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">df</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">diff</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">dir</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">dircolors</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">dirname</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 dnsd -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 dnsdomainname -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 dos2unix -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">du</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 dumpkmap -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token builtin class-name">echo</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">egrep</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">eject</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">env</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ether-wake -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">expand</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">expr</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 factor -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 fallocate -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token boolean">false</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 fbset -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 fdflush -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">fdformat</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">fgrep</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 flannel -<span class="token operator">&gt;</span> cni
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">fmt</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">fold</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">free</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 freeramdisk -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">fsck</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 fsfreeze -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">fuser</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 getopt -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 getty -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">grep</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">groups</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 gunzip -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">gzip</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">halt</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 hdparm -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">head</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 hexedit -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 hostid -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 host-local -<span class="token operator">&gt;</span> cni
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">hostname</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 hwclock -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 i2cdetect -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 i2cdump -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 i2cget -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 i2cset -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 i2ctransfer -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">id</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">ifconfig</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">ifdown</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">ifup</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 inetd -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 init -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 insmod -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">install</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ipaddr -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ipcrm -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ipcs -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 iplink -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ipneigh -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 iproute -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 iprule -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 iptunnel -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">join</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 k3s-agent -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 k3s-certificate -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 k3s-completion -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 k3s-etcd-snapshot -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 k3s-secrets-encrypt -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 k3s-server -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">kill</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">killall</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 killall5 -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 klogd -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 kubectl -<span class="token operator">&gt;</span> k3s
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 last -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">less</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">link</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 linux32 -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 linux64 -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 linuxrc -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">ln</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 loadfont -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 loadkmap -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 logger -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 login -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">logname</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 loopback -<span class="token operator">&gt;</span> cni
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">ls</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lsattr -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lsmod -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">lsof</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lspci -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lsscsi -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lsusb -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lzcat -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lzma -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 lzopcat -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 makedevs -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 md5sum -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 mdev -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 mesg -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 microcom -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 mim -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">mkdir</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 mkdosfs -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">mke2fs</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">mkfifo</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">mknod</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 mkpasswd -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 mktemp -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">more</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 mountpoint -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 mt -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">mv</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 nameif -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">netstat</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">nice</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">nl</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">nohup</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 nologin -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 nproc -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">nslookup</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 nuke -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 numfmt -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 od -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 openvt -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 partprobe -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">passwd</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">paste</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 patch -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">pathchk</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 pidof -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">ping</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 pinky -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 pipe_progress -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 pivot_root -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">3</span> Nov  <span class="token number">8</span> 05:23 portmap -<span class="token operator">&gt;</span> cni
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 poweroff -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">pr</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">printenv</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token builtin class-name">printf</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">ps</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 ptx -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token builtin class-name">pwd</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 rdate -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 readlink -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 realpath -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">reboot</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 reset -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 resize -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 resume -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">rm</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">rmdir</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 rmmod -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 route -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 runcon -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 run-init -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 runlevel -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 run-parts -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">sed</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">seq</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 setarch -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 setconsole -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 setfattr -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 setkeycodes -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 setlogcons -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 setpriv -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 setserial -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">sh</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 sha1sum -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 sha224sum -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 sha256sum -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 sha384sum -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 sha3sum -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 sha512sum -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 shred -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">shuf</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">sleep</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">sort</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">split</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 start-stop-daemon -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">stat</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 strings -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 stty -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">su</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 sulogin -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">sum</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 svc -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 svok -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 switch_root -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">sync</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">sysctl</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 syslogd -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">tac</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">tail</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">tar</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">tee</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 telnet -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token builtin class-name">test</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 tftp -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">time</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">timeout</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">top</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">touch</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">tr</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">traceroute</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token boolean">true</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 truncate -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ts -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">tsort</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">tty</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 ubirename -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 udhcpc -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 uevent -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">umount</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">uname</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">unexpand</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">uniq</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 unix2dos -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 unlink -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 unlzma -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 unlzop -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">4</span> Nov  <span class="token number">8</span> 05:23 unpigz -<span class="token operator">&gt;</span> pigz
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 unxz -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">unzip</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">uptime</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">users</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 usleep -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">uudecode</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">uuencode</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 vconfig -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">vdir</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">vi</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 vlock -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 w -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">watch</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 watchdog -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">wc</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">wget</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">which</span> -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">who</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">whoami</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 xxd -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 xz -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 xzcat -<span class="token operator">&gt;</span> busybox
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">9</span> Nov  <span class="token number">8</span> 05:23 <span class="token function">yes</span> -<span class="token operator">&gt;</span> coreutils
lrwxrwxrwx <span class="token number">1</span> root root         <span class="token number">7</span> Nov  <span class="token number">8</span> 05:23 zcat -<span class="token operator">&gt;</span> busybox
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h2 id="cloudrootfs" tabindex="-1"><a class="header-anchor" href="#cloudrootfs" aria-hidden="true">#</a> CloudRootfs</h2><h3 id="\u6211\u600E\u6837\u624D\u80FD\u5F97\u5230-cloudrootfs" tabindex="-1"><a class="header-anchor" href="#\u6211\u600E\u6837\u624D\u80FD\u5F97\u5230-cloudrootfs" aria-hidden="true">#</a> \u6211\u600E\u6837\u624D\u80FD\u5F97\u5230 CloudRootfs</h3><ol><li>\u62C9\u4E00\u4E2ABaseImage<code>sealer pull kubernetes:v1.19.8-alpine</code></li><li>\u67E5\u770B\u955C\u50CF\u5C42\u4FE1\u606F<code>sealer inspect kubernetes:v1.19.8-alpine</code></li><li>\u8FDB\u5165BaseImage\u5C42<code>ls /var/lib/sealer/data/overlay2/{layer-id}</code></li></ol><p>\u60A8\u4F1A\u627E\u5230 CloudRootfs \u5C42\u3002</p><div class="custom-container warning"><p class="custom-container-title">overlay2</p><p>\u5728 docker \u4E2D\u6216\u8BB8\u80FD\u7ECF\u5E38\u770B\u89C1\u5B83\uFF0C\u5728 CloudRootfs \u6211\u53C8\u9047\u89C1\u4E86ta</p><p>docker\u4F5C\u4E3A\u4E00\u4E2A\u5BB9\u5668\u5E73\u53F0\uFF0C\u5B83\u6709\u4E00\u5957\u81EA\u5DF1\u7684\u5B58\u50A8\u7CFB\u7EDF\u3002\u5B83\u652F\u6301\u7684driver\u6709overlay,overlay2, aufs\u7B49\u7B49\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/var/lib/docker<span class="token comment"># ls</span>
buildkit  containers  image  network  overlay2  plugins  runtimes  swarm  tmp  trust  volumes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u9700\u8981\u5B66\u4F1Ata\uFF0C\u56E0\u4E3A\u8FD9\u4E2A\u4E5F\u548C \u955C\u50CF\u7684 \u6784\u5EFA \u606F\u606F\u76F8\u5173~</p></div><details class="custom-container details"><summary>\u{1F4A1}\u7B80\u5355\u7684\u4E00\u4E2A\u6848\u4F8B\u5982\u4E0B</summary><p>\u542F\u52A8docker\uFF0C\u5220\u9664\u672C\u5730\u6240\u6709\u7684\u955C\u50CF\u3002\u8FDB\u5165 <code>/var/lib/docker/overlay</code> \u76EE\u5F55\uFF0C\u53EF\u4EE5\u770B\u5230\u6B64\u65F6\u8FD9\u4E2A\u76EE\u5F55\u4E0B\u9762\u4EC0\u4E48\u90FD\u6CA1\u6709\uFF0C\u662F\u7A7A\u7684\u3002</p><p><em>dockerfile\uFF1A</em></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@iZbp1evo5cnwagauz3w188Z tmp]# ls; cat &gt;&gt; Dockerfile &lt;&lt;-EOF
FROM ubuntu
COPY aa /
COPY bb /
COPY cc /
EOF
aa  bb  cc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u{1F680} \u7F16\u8BD1\uFF1A</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker build -t aabbcc .
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://sm.nsddd.top/smimage-20221125191615259.png" alt="image-20221125191615259"></p><p>\u4E0A\u9762\u7684\u4E00\u7CFB\u5217\u64CD\u4F5C\u5236\u4F5C\u4E86\u4E00\u4E2A\u540D\u5B57\u4E3Aaabbcc\u7684image\u3002\u6B64\u65F6\u53EF\u4EE5\u5728/var/lib/docker/overlay \u4E0B\u9762\u89C2\u5BDF\u5230\u65B0\u7684\u5C42\u5DF2\u7ECF\u751F\u6210\u4E86\u3002\u8FD9\u91CC\u6BCFcopy\u4E00\u4E2A\u6587\u4EF6\u5C31\u4F1A\u751F\u6210\u65B0\u7684\u4E00\u5C42\u3002</p><p>\u89C2\u5BDF\u4E00\u4E0B/var/lib/docker/overlay/\u76EE\u5F55\u3002aa\u6587\u4EF6\u51FA\u73B0\u4E86\u4E09\u6B21\uFF0Cbb\u6587\u4EF6\u51FA\u73B0\u4E86\u4E24\u6B21\uFF0Ccc\u6587\u4EF6\u53EA\u51FA\u73B0\u4E86\u4E00\u6B21\uFF0C\u8FD9\u4E5F\u4E0E\u6211\u4EEC\u62F7\u8D1D\u5B83\u4EEC\u7684\u987A\u5E8F\u76F8\u543B\u5408\u3002</p><p>\u5C42\u7EA7\u7ED3\u6784\u4E00\u76EE\u4E86\u7136\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iZbp1evo5cnwagauz3w188Z tmp<span class="token punctuation">]</span><span class="token comment"># ls cfd414e52a3b25dade86fb2333d5cd84bb0632e55872914e42c0510cf7c211ea/root/</span>
aa  bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
<span class="token punctuation">[</span>root@iZbp1evo5cnwagauz3w188Z tmp<span class="token punctuation">]</span><span class="token comment">#  ls 5b42d020f1bc93d2643e67c6fe7d86f3a20efd80767bf505853dd743d8b51a31/root/</span>
aa  bb  bin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
<span class="token punctuation">[</span>root@iZbp1evo5cnwagauz3w188Z tmp<span class="token punctuation">]</span><span class="token comment">#  ls 00e5e192b42ad8923eda7d43016c56864fdb0c22c239cb141140c9959d138400/root/</span>
aa  bb  bin  boot  cc  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u91CCaa\u5B9E\u9645\u4E0A\u662F\u901A\u8FC7\u786C\u94FE\u63A5\u7684\u65B9\u5F0F\u94FE\u5230\u4E0D\u540C\u7684\u5C42\u91CC\u7684\u3002\u4E0B\u9762\uFF0C\u6211\u4EEC\u5C1D\u8BD5\u4F7F\u7528aabbcc\u8FD0\u884C\u4E00\u4E2A\u5BB9\u5668\u3002\u4ECE\u4E2D\u6211\u4EEC\u53EF\u4EE5\u89C2\u5BDF\u5230\uFF0C\u591A\u51FA\u4E86\u4E00\u4E2Aaa\u6587\u4EF6\uFF0C\u8FD9\u5B9E\u9645\u4E0A\u5C31\u662F\u5BB9\u5668\u771F\u6B63\u8FD0\u884C\u7684<code>rootfs(bfa602b98523bcc9d311e39729f1b4fd8a5046d5856b3d153886a67373a0f9f9/merged)</code>\u3002</p><p>\u901A\u8FC7mount\u6307\u4EE4\uFF0C\u6211\u4EEC\u53EF\u4EE5\u89C2\u5BDF\u5230\u5185\u6838\u5C06\u955C\u50CF\u548Cupper\u6302\u8F7D\u5230\u4E86\u6307\u5B9A\u7684rootfs\u4E2D\u4E86\u3002</p><p>\u603B\u7ED3\u4E00\u4E0B\uFF0Coverlay \u5BF9\u4E8E\u6BCF\u4E00\u5C42\u90FD\u4F1A\u6784\u7B51\u4E00\u4E2A\u5B8C\u6574\u7684\u955C\u50CF\uFF0C\u955C\u50CF\u548C\u955C\u50CF\u4E4B\u95F4\u901A\u8FC7\u786C\u94FE\u63A5\u5171\u4EAB\u6587\u4EF6\u3002\u5F53\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668\u65F6\uFF0C\u5185\u6838\u4F1Aunion mount\u8FD9\u4E2A\u5BB9\u5668\u6240\u4F7F\u7528\u7684\u955C\u50CF\u6240\u5BF9\u5E94\u7684layer(lowerdir)\u548C\u4E00\u4E2A\u8BFB\u5199\u5C42(upperdir)\uFF0C\u5E76\u4E14lowerdir\u53EA\u6709\u4E00\u5C42\u3002</p><p><strong>overlay2:</strong></p><p>\u7528\u540C\u6837\u7684<code>Dockerfile</code>\u6784\u5EFA\u4E00\u4E2A\u53EB<code>aabbcc</code>\u7684<code>image</code>\uFF0C\u89C2\u5BDF<code>/var/lib/docker/overlay2</code>\u4E0B\u9762\u7684\u6587\u4EF6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u5404\u4E2A\u6587\u4EF6\u53EA\u6709\u4E00\u4E2A\u3002</p></details><h3 id="overlay-overlay2" tabindex="-1"><a class="header-anchor" href="#overlay-overlay2" aria-hidden="true">#</a> overlay &amp;&amp; overlay2</h3><div class="custom-container warning"><p class="custom-container-title">\u603B\u7ED3</p><p>overlay\u5B9E\u9645\u4E0A\u901A\u8FC7\u786C\u94FE\u63A5\u5728\u5C42\u548C\u5C42\u4E4B\u95F4\u5171\u4EAB\u6587\u4EF6\uFF0C\u800C <code>overlay2</code> \u7684\u6BCF\u4E00\u5C42\u90FD\u662F\u5B8C\u5168\u72EC\u7ACB\u7684\u3002\u5982\u679C\u5BB9\u5668\u542F\u52A8\u7684\u8BDD\uFF0C\u5B83\u4F1A\u5C06\u591A\u5C42<code>lowerdir</code> \u6302\u8F7D\u5230\u5B83\u7684<code>rootfs</code>\u3002</p><p>\u8FD9\u79CD\u8BBE\u8BA1\u5C31\u4F1A\u5E26\u6765\u4E00\u4E2A\u95EE\u9898\uFF0C\u90A3\u5C31\u662Flinux\u7CFB\u7EDF\u4F1A\u9650\u5236\u7CFB\u7EDF\u4E2D\u786C\u94FE\u63A5\u7684\u6570\u91CF\uFF0C\u5982\u679C\u7528\u6237\u4E0B\u8F7D\u4E86\u5F88\u591A\u5BB9\u5668\uFF0C\u90A3\u4E48<code>docker</code>\u5C31\u4F1A\u5728\u7CFB\u7EDF\u4E2D\u5230\u5904\u521B\u5EFA\u786C\u94FE\u63A5\uFF0C\u8FBE\u5230\u6700\u5927\u503C\u540E\u5C06\u65E0\u6CD5\u521B\u5EFA\u65B0\u5BB9\u5668\u3002</p><p>\u56E0\u6B64\uFF0C\u6211\u4EEC\u5E94\u8BE5\u4F7F\u7528<code>overlay2</code>\u4F5C\u4E3A<code>docker</code>\u7684 graph driver \u800C\u4E0D\u662Foverlay</p></div><h3 id="\u6784\u5EFA\u81EA\u5DF1\u7684-cloudrootfs" tabindex="-1"><a class="header-anchor" href="#\u6784\u5EFA\u81EA\u5DF1\u7684-cloudrootfs" aria-hidden="true">#</a> \u6784\u5EFA\u81EA\u5DF1\u7684 CloudRootfs</h3><p>\u60A8\u53EF\u4EE5\u6839\u636E\u9700\u8981\u7F16\u8F91 CloudRootfs \u4E2D\u7684\u4EFB\u4F55\u6587\u4EF6\uFF0C\u4F8B\u5982\u60A8\u60F3\u8981\u5B9A\u4E49\u81EA\u5DF1\u7684 docker daemon.json\uFF0C\u53EA\u9700\u7F16\u8F91\u5B83\u5E76\u6784\u5EFA\u4E00\u4E2A\u65B0\u7684 CloudImage\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>FROM scratch
COPY <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span>
sealer build <span class="token parameter variable">-t</span> user-defined-kubernetes:v1.19.8 <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7136\u540E\u60A8\u53EF\u4EE5\u5C06\u6B64\u56FE\u50CF\u7528\u4F5C BaseImage\u3002</p><h2 id="\u5378\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u5378\u8F7D" aria-hidden="true">#</a> \u5378\u8F7D</h2><h3 id="k0s" tabindex="-1"><a class="header-anchor" href="#k0s" aria-hidden="true">#</a> k0s</h3><p>\u8981\u5378\u8F7Dk0s\uFF0C\u60A8\u9700\u8981\u6267\u884C\u4EE5\u4E0B\u6B65\u9AA4\uFF1A</p><ol><li>\u8FDB\u5165k0s\u7684\u5B89\u88C5\u76EE\u5F55\uFF0C\u901A\u5E38\u4E3A <code>/usr/local/k0s</code> \uFF0C\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u505C\u6B62k0s\u670D\u52A1\uFF1A</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Copy code
./k0s-stop.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u5220\u9664k0s\u5B89\u88C5\u76EE\u5F55\u53CA\u5176\u76F8\u5173\u6587\u4EF6\uFF1A</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Copy code
rm -rf /usr/local/k0s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u5220\u9664k0s\u6240\u5B89\u88C5\u7684\u7CFB\u7EDF\u670D\u52A1\uFF1A</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Copy coderm /etc/systemd/system/k0s.service
systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u6765\u5220\u9664k0s\u76F8\u5173\u7684\u7528\u6237\u548C\u7EC4\uFF1A</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Copy codeuserdel -r k0s
groupdel k0s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6267\u884C\u4E0A\u8FF0\u6B65\u9AA4\u540E\uFF0Ck0s\u5C31\u5DF2\u7ECF\u88AB\u5378\u8F7D\u5B8C\u6210\u4E86\u3002\u5982\u679C\u60A8\u8FD8\u6709\u5176\u4ED6\u95EE\u9898\uFF0C\u53EF\u4EE5\u53C2\u8003k0s\u7684\u6587\u6863\u6216\u8005\u63D0\u4EA4\u95EE\u9898\u5230k0s\u7684\u5B98\u65B9\u8BBA\u575B\u3002</p><h3 id="k3s" tabindex="-1"><a class="header-anchor" href="#k3s" aria-hidden="true">#</a> k3s</h3><p>\u8981\u5378\u8F7Dk3s\uFF0C\u60A8\u9700\u8981\u6267\u884C\u4EE5\u4E0B\u6B65\u9AA4\uFF1A</p><ol><li>\u4F7F\u7528<code>k3s-killall.sh</code>\u811A\u672C\u505C\u6B62k3s\u670D\u52A1\u3002\u8FD9\u4E2A\u811A\u672C\u53EF\u4EE5\u5728k3s\u5B89\u88C5\u76EE\u5F55\u4E0B\u627E\u5230\uFF0C\u901A\u5E38\u662F<code>/usr/local/bin</code>\u3002\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u627E\u5230\u5220\u9664\u811A\u672C\u76F4\u63A5\u5220\u9664\u5373\u53EF\u3002</li><li>\u5220\u9664k3s\u76F8\u5173\u7684\u6240\u6709\u6587\u4EF6\u548C\u76EE\u5F55\u3002\u8FD9\u4E9B\u6587\u4EF6\u5305\u62EC\u5B89\u88C5\u76EE\u5F55\u4E0B\u7684\u6240\u6709\u6587\u4EF6\uFF0C\u4EE5\u53CA<code>/etc/rancher/k3s</code>\u76EE\u5F55\u3002</li><li>\u5220\u9664k3s\u76F8\u5173\u7684\u7CFB\u7EDF\u670D\u52A1\u3002\u8981\u5220\u9664\u8FD9\u4E9B\u670D\u52A1\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\uFF1A</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Copy codesystemctl disable k3s
systemctl stop k3s
<span class="token function">rm</span> <span class="token parameter variable">-f</span> /etc/systemd
/system/k3s.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u4E9B\u6B65\u9AA4\u5E94\u8BE5\u53EF\u4EE5\u5E2E\u52A9\u60A8\u5B8C\u6210k3s\u7684\u5378\u8F7D\u3002</p><h2 id="end-\u94FE\u63A5" tabindex="-1"><a class="header-anchor" href="#end-\u94FE\u63A5" aria-hidden="true">#</a> END \u94FE\u63A5</h2><ul><li><div><a href="4.md" style="float:left;">\u2B06\uFE0F\u4E0A\u4E00\u8282\u{1F517} </a><a href="6.md" style="float:right;"> \uFE0F\u4E0B\u4E00\u8282\u{1F517}</a></div></li></ul>`,41),Rs=n("\u24C2\uFE0F\u56DE\u5230\u76EE\u5F55\u{1F3E0}"),Ls={href:"https://nsddd.top/archives/contributors",target:"_blank",rel:"noopener noreferrer"},As=s("strong",null,"\u{1FAF5}\u53C2\u4E0E\u8D21\u732E\u{1F49E}\u2764\uFE0F\u200D\u{1F525}\u{1F496}",-1),Ss=n(")"),Es=n("\u2734\uFE0F\u7248\u6743\u58F0\u660E \xA9 \uFF1A\u672C\u4E66\u6240\u6709\u5185\u5BB9\u9075\u5FAA"),Ds={href:"http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC",target:"_blank",rel:"noopener noreferrer"},zs=n("CC-BY-SA 3.0\u534F\u8BAE\uFF08\u7F72\u540D-\u76F8\u540C\u65B9\u5F0F\u5171\u4EAB\uFF09\xA9");function Os($s,Gs){const e=t("ExternalLinkIcon"),r=t("RouterLink");return p(),c("div",null,[s("ul",null,[s("li",null,[s("a",d,[b,a(e)])])]),m,k,v,x,s("blockquote",null,[s("p",null,[w,s("a",g,[h,a(e)]),f,s("a",y,[N,a(e)]),_,s("a",q,[C,a(e)])])]),P,s("ul",null,[s("li",null,[s("a",I,[R,a(e)])]),s("li",null,[s("a",L,[A,a(e)])])]),S,E,D,z,O,$,s("p",null,[G,s("a",B,[K,a(e)]),j,s("a",H,[F,a(e)]),M]),V,s("div",T,[U,Y,s("ul",null,[Z,W,s("li",null,[s("a",J,[Q,a(e)])]),X])]),ss,s("ul",null,[s("li",null,[s("p",null,[s("a",ns,[as,a(e)])])]),s("li",null,[s("p",null,[s("a",es,[os,a(e)])])]),ts]),rs,s("p",null,[ls,ps,cs,s("a",is,[us,a(e)]),ds,s("a",bs,[ms,a(e)]),ks,vs]),s("ul",null,[s("li",null,[s("a",xs,[ws,a(e)])]),s("li",null,[s("a",gs,[hs,a(e)])])]),fs,s("p",null,[ys,s("a",Ns,[_s,a(e)])]),s("p",null,[s("a",qs,[Cs,a(e)]),Ps]),Is,s("ul",null,[s("li",null,[s("p",null,[a(r,{to:"/"},{default:i(()=>[Rs]),_:1})])]),s("li",null,[s("p",null,[s("a",Ls,[As,a(e)]),Ss])]),s("li",null,[s("p",null,[Es,s("a",Ds,[zs,a(e)])])])])])}const Ks=l(u,[["render",Os],["__file","5.html.vue"]]);export{Ks as default};
